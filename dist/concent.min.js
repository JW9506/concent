!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,I,r){"use strict";I=I&&I.hasOwnProperty("default")?I.default:I,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,W={$$default:[]},ye="$$global",P="$$default",V="$$cc",q="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",x="$$CcFrag",_e="$$CcHook",m="$$Cc",z="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",ve=Symbol("__for_sync_param_ccsync__"),U=10,O=11,N=13,T="dispatch",me="setState",he="setModuleState",Ce="forceUpdate",w="invoke",K="sync",k="module",Ke="ref",ge="computed",Se="watch",Ee={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},i=((t={})[Ee.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[Ee.CC_MODULE_NOT_FOUND]="module not found!",t[Ee.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)„ÄÅ(moduleName)/(fnName)",t[Ee.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[Ee.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[Ee.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[Ee.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[Ee.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),u=Object.freeze({MODULE_GLOBAL:ye,MODULE_DEFAULT:P,MODULE_CC:V,MODULE_VOID:q,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_FRAGMENT:x,CC_HOOK:_e,CC_PREFIX:m,CC_DISPATCHER:z,CC_DISPATCHER_BOX:c,CCSYNC_KEY:ve,SIG_FN_START:U,SIG_FN_END:O,SIG_FN_QUIT:12,SIG_FN_ERR:N,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,EFFECT_AVAILABLE:1,EFFECT_STOPPED:0,DISPATCH:T,SET_STATE:me,SET_MODULE_STATE:he,FORCE_UPDATE:Ce,INVOKE:w,SYNC:K,CATE_MODULE:k,CATE_REF:Ke,FN_CU:ge,FN_WATCH:Se,ERR:Ee,ERR_MESSAGE:i}),s=((n={})[ye]={},n[P]={},n[V]={},n),d=((o={})[ye]={},o[P]={},o[V]={},o),f={},l={},F={_computedValueOri:d,_computedValue:s,_computedRaw:l,_computedDep:f,getRootComputedValue:function(){return s},getRootComputedDep:function(){return f},getRootComputedRaw:function(){return l}},p={},y={},C={_watchRaw:y,_watchDep:p,getRootWatchDep:function(){return p},getRootWatchRaw:function(){return y}},_={isStrict:!1,isDebug:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},v=Symbol("cuk"),h="1",$e="2",R="function",we="is not a plain json object!",g="should be an string array or *!",S=console.error;function E(e){return null!=e&&0<re(e).length}function $(e){return!E(e)}function be(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function b(e,t){var n="";n="string"==typeof e?e:i[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function L(e,t,n,r,o,a,c){var i;return(i={})[v]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function D(e,t){return e+"$"+t}function M(e){return e?" --verbose-info: "+e:""}function j(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function H(e){return"%c"+e}var B=function(e){return"------------ CC "+e+" ------------"};function G(e){S(B("WARNING")),e instanceof Error?(S(e.message),S(e.stack)):S(e)}function Y(e){console.log(B("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function X(e){if(S(B("WARNING")),S(e),_.isStrict)throw e}function J(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function Q(e,t){return J(e,t,[])}function Z(e,t){e.includes(t)||e.push(t)}function ee(e,t,n){Z(Q(e,t),n)}function te(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function ne(t,n,r){if(void 0===n&&(n=[]),Array.isArray(t)){var o=[];n.forEach(function(e){t.includes(e)&&o.push(e)}),t.length=0,o.forEach(function(e){return t.push(e)})}else Object.keys(t).forEach(function(e){n.includes(e)||(r?t[e]=r:delete t[e])})}function re(e){return Object.keys(e)}function oe(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function ae(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function ce(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function xe(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function ie(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:P},e)}var ue="";function se(){return ue}function de(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function fe(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function le(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function pe(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!be(t))throw Error("state "+we);return t}function Ue(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function Oe(e){return"-"===e?"*":e}function Ne(e){return Array.isArray(e)||"-"===e||"*"===e}function De(e,t,n){void 0===n&&(n=!0);var r={fn:e},o=Ne(t)?{depKeys:t}:t;return n&&function(e){if(e&&!Ne(e))throw Error("depKeys must an array , '*' or '-'")}(o.depKeys),Object.assign(r,o)}var Ie={},Ae={};function Me(t,n,r){try{t[n][r]=1}catch(e){var o={};o[r]=1,t[n]=o}}function Te(e,t){return e+"/"+t}function Re(e,t){Me(Ie,e,t)}function We(e,t,n){!function(e,t){try{delete Ie[e][t]}catch(e){}}(Te(e,t),n)}var ke={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function Fe(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n,sort:r.sort}}var Le=function(e,t){return e.sort-t.sort};function je(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=re(d),_=re(c),v=_;return"computed"===n?{pickedFns:y.map(function(e){return Fe(e,d,f[e])}).sort(Le),setted:_,changed:v}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(Le),{pickedFns:s,setted:_,changed:v})}var m=function(n,r){var o=[],a=[];return re(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=ke[t][n],S=i?J(g,i):g,E=S[K];return E?{pickedFns:E.map(function(e){return Fe(e,d,f[e])}),setted:h,changed:C}:(function(s,o,d,f,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<d.length;e.forEach(function(e){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a};r?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c=!0;r&&!d.includes(i)&&(c=!1),c&&(u[e]=!0,s.push({retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}();s.sort(Le)}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Pe(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function Ve(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!be(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=re(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Pe(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Pe(o,t,e)&&(c=!1)}),r&&(a=xe(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function qe(e,n){return new Proxy(e,{get:function(e,t){return n.includes(t)||n.push(t),e[t]},set:function(e,t){return e[t]=e[t],!0}})}function ze(e,t,n,r){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===h){var a=o.ccUniqueKey;if(r){var c=o.module;if(!W[c].includes(n))return;var i=Te(c,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[i]=1);if("-"!==o.watchedKeys)return;var u=o.__$$curWaKeys,s=o.__$$compareWaKeys,d=o.__$$nextCompareWaKeys;Re(i,a),s[n]=u[n]=1,d[n]||(d[n]=2,o.__$$nextCompareWaKeyCount++)}else{var f=Te(t,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[f]=1);if("-"!==o.connect[t])return;var l=o.__$$curConnWaKeys,p=o.__$$compareConnWaKeys,y=o.__$$nextCompareConnWaKeys,_=o.__$$nextCompareConnWaKeyCount;Re(f,a),p[t][n]=l[t][n]=1;var v=y[t];v[n]||(v[n]=2,_[t]++)}}}var He=F._computedValueOri,Be=F._computedValue,Ge=F._computedDep;function Ye(e,t,n,r,o){(e.retKey_stateKeys_[r]||[]).forEach(function(e){ze(t,n,e,o)})}function Xe(r,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=c?r.ctx.refComputedOri:He[o],u=c?r.ctx.refComputedValue:Be[o];return i?new Proxy(i,{get:function(e,t){if(i.hasOwnProperty(t))if(c){var n=r.ctx.computedDep;Object.keys(n).forEach(function(e){Ye(n[e],r,e,t,a)})}else Ye(Ge[o],r,o,t,a);return u[t]},set:function(e,t,n){return e[t]=n,!0}}):{}}var Je,Qe=function(e){return G(e+" call commit or commitCu as it is lazy")},Ze={},et={};function tt(e,t,n){return e==k?J(Ze,t):J(et,n)}function nt(e,t,n,r,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===Ke){var s=e.computedDep,d=n===ge?s:e.watchDep;u=J(s,r),i=J(d,r)}else{var f=F._computedDep,l=n===ge?f:C._watchDep;u=J(f,r),i=J(l,r)}var p=J(i,"stateKey_retKeys_"),y=J(i,"retKey_stateKeys_"),_=function(e){var n=Q(y,o);e.forEach(function(e){var t=Q(p,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),n.includes(e)||n.push(e)})};c?_(a):a.forEach(function(e){var t=J(u,"retKey_stateKeys_");_(t[e]||[])})}}function rt(e,t,n){return t===Ke?e.computedRetKeyFns:(F._computedDep[n]||{}).retKey_fn_||{}}function ot(l,E,$,w,p,e,b,y,x,U,O,N,D){void 0===l&&(l={});for(var I=l.ctx,A=I?I.ccUniqueKey:"",_=0,M=e,T=!0,R=!1,t=function(){var v=1===++_&&U,e=p(M,v),t=e.pickedFns,m=e.setted,h=e.changed;if(!t.length)return"break";var n,r,o=de(),C=o.commit,a=o.getFnCommittedState,c=de(),K=c.commit,g=c.getFnCommittedState,S=c.clear;if(t.forEach(function(e){var n=e.retKey,t=e.fn,r=e.isLazy,o=N+" "+O+" retKey["+n+"] can't",a={retKey:n,callInfo:x,isFirstCall:U,commit:C,commitCu:K,setted:m,changed:h,cuVal:D,stateModule:E,refModule:$,oldState:w,committedState:M,refCtx:I},c=v&&"-"===e.depKeys,i=[],u=[];if(c&&(a.cuVal=function(n,r,o,e,t,a){var c,i;return i=k===r?(c=He[e],Be[e]):(c=t.refComputedOri,t.refComputedValue),new Proxy(c,{get:function(e,t){return c.hasOwnProperty(t)?a.push(t):G(r+" "+o+" retKey["+n+"] get cuVal invalid retKey["+t+"]"),i[t]},set:function(){return!0}})}(n,N,O,E,I,i)),O===ge)if(r&&(a.commit=function(){return Qe(o)},a.commitCu=a.commit),c){var s=qe(b,u),d=t(s,s,a);D[n]=L(!1,d),nt(I,N,ge,E,n,u),nt(I,N,ge,E,n,i,!1),function(e,t,n,r,o,a){var c=tt(e,o,a),i=rt(n,o,a),u=Q(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):Q(c,e).forEach(function(e){return Z(u,e)})})}(n,i,I,0,N,E)}else if(r)D[n]=L(r,null,!0,t,b,w,a);else{var f=t(b,w,a);D[n]=L(!1,f)}else{var l=b,p=w;c&&(p=l=qe(b,u)),!1===t(l,p,a)&&(T=!1),c&&(nt(I,N,Se,E,n,u),nt(I,N,Se,E,n,i,!1))}c&&N===Ke&&u.forEach(function(e){return I.__$$staticWaKeys[Te(E,e)]=1});var y=g();if(y){var _=rt(I,N,E);re(y).forEach(function(e){var t=_[e];t?t.isStatic?function(e,t,n,r){return Q(tt(t,n,r),e)}(e,N,E,A).includes(e)?G("commitCu:"+o+" change ["+e+"], ["+n+"] referred ["+e+"]"):D[e]=L(!1,y[e]):G("commitCu:"+o+" change ["+e+"], it must have zero dep keys"):G("commitCu:"+o+" commit ["+e+"], it is not defined")}),S()}}),M=a()){var i=Ve(M,"ref"===N?I.privStateKeys:W[E],!0),u=i.partialState,s=i.ignoredStateKeys;if(s.length){var d="they are not "+(N===Ke?"private":"module")+", fn is "+N+" "+O;G("these state keys["+s.join(",")+"] are invalid, "+d)}if(u)if(O===Se){var f=function(e,t){return t===Ke?e.computedDep:F._computedDep}(I,N);ot(l,E,$,w,function(e,t){return je(t,N,ge,f,E,w,e,A)},u,b,y,x,!1,ge,N,D)}else void 0===r&&(r=!1),M=n=u,r&&0===re(n).length?M=null:(Object.assign(b,M),Object.assign(y,M),R=!0)}2<_&&(G("fnCtx.commit may goes endless loop, please check your code"),M=null)};M;){if("break"===t())break}return{shouldCurrentRefUpdate:T,hasDelta:R}}for(var at=F._computedValue,ct=re,it={},ut=function(){return it[z]},st=function(n,e,t){var r=void 0===t?{}:t,o=r.ref,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=r.noSave,s=void 0!==u&&u,d=ft(n),f=at[n],l=F.getRootComputedDep(),p=C.getRootWatchDep(),y=a||ut(),_=y.module,v=Object.assign({},d,e),m=Object.assign({},e),h=m;return ot(y,n,_,d,function(e,t){return je(t,k,"computed",l,n,d,e)},h,v,m,i,!1,"computed",k,f),ot(y,n,_,d,function(e,t){return je(t,k,"watch",p,n,d,e)},h,v,m,i,!1,"watch",k,f),s||dt(n,m),m},dt=function(t,e,n){void 0===n&&(n=!1);var r=e;if(n){var o=Ve(e,W[t],!0);r=o.partialState}if(r){var a=ft(t),c=lt(t);ct(r).forEach(function(e){c[e]=a[e],pt(t,e),a[e]=r[e]})}return r},ft=function(e){return _t[e]},lt=function(e){return vt[e]},pt=function(e,t){mt[e][t]++},yt=function(){var e;return(e={})[V]={},e[q]={},e[ye]={},e[P]={},e},_t=yt(),vt=yt(),mt={},ht={getDispatcher:ut,isHotReloadMode:function(){return!!ht.isHot||window&&(window.webpackHotUpdate||fe())},runtimeVar:_,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:W,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=Q(W,e);re(t).forEach(function(e){n.includes(e)||n.push(e)}),ht.store.setState(e,t)},_state:_t,_prevState:vt,_stateVer:mt,getState:function(e){return e?ft(e):_t},getPrevState:function(e){return e?lt(e):vt},getStateVer:function(e){return e?mt[e]:mt},setState:function(e,t,n){return st(e,t,n)},setGlobalState:function(e){return st(ye,e)},saveSharedState:dt,getGlobalState:function(){return _t[ye]}},reducer:{_reducer:(Je={},Je[ye]={},Je[V]={},Je),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:F,watch:C,refStore:{_state:{},setState:function(e,t){var n=ht.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:it,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},waKey_uKeyMap_:Ie,waKey_staticUKeyMap_:Ae,refs:it,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.3.20",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"yuna"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[],pluginNameMap:{}},Ct=localStorage.length,Kt=ht.refStore._state,gt=0;gt<Ct;gt++){var St=localStorage.key(gt);if(St.startsWith("CCSS_"))try{Kt[St.substr(5)]=JSON.parse(localStorage.getItem(St))}catch(e){console.error(e)}}var Et=[],$t=function(e){return e.toLowerCase()===V},wt=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},bt=M,xt=b;function Ut(e){if(!wt(e))throw Error("module["+e+"] writing is invalid!");if($t(e))throw Error("'$$cc' is a built-in module name for concent")}function Ot(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=ht.store._state;if(Ut(e),e!==ye)if(t){if(E(o[e]))throw xt(Ee.CC_MODULE_NAME_DUPLICATE,bt(r))}else if(!o[e])throw xt(Ee.CC_MODULE_NOT_FOUND,bt(r))}function Nt(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+g);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var Dt={},It=function(e,t,n){if(e.code!==Ee.CC_MODULE_NAME_DUPLICATE||!ht.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=Dt[o];if(a){if(r!==a)throw e}else Dt[o]=r},At={};function Mt(e){At[e]={}}function Tt(t,e,n){void 0===n&&(n=!0),Mt(t);var r=t===q?{}:e;try{!function(e,t,n){if(Ot(e,n),!be(t))throw Error("module["+e+"]'s state "+we)}(t,r,n)}catch(e){It(e,t,"state")}var o=ht.store,a=o.getState(),c=o.getStateVer();o.getPrevState()[t]=Object.assign({},a[t]=r),c[t]=re(r).reduce(function(e,t){return e[t]=1,e},{});var i=Object.keys(r);if(ht.moduleName_stateKeys_[t]=i,t===ye){var u=ht.globalStateKeys;i.forEach(function(e){u.includes(e)||u.push(e)})}}function Rt(e,t){void 0===t&&(t=!1);var n=ht.ccUKey_ref_,r=ht.moduleName_ccClassKeys_,o=ht.ccClassKey_ccClassContext_,a=[];if(e){if(!ht.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===P&&(a=a.filter(function(e){return!e.startsWith(x)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[z]}}else a=[z];var s=n[a[0]];if(!s)throw Error("cc found no ref!");return s}var Wt=D,kt=G,Ft=function(){return Promise.resolve()};function Lt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=Wt(c,i),_=ht.refs[y];if(!_)return kt("no ref found for ccUniqueKey:"+y+"!"),Ft();f=_.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var v=e.split("/");l=v[0],p=v[1]}else p=e;var m;if(!(m=l&&"*"!==l?Rt(l):d?Rt(d):Rt()))return kt("no ref found"),Ft();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=ht.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return kt(e.message),Ft()}}function jt(e,t,n,r,o){return Lt(e,t,n,r,o)}function Pt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!be(e))throw Error(t+" "+we);Ot(a,!1,t+" is invalid");var n=ht.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=J(o,a),d=Q(i,a);u.setState||(u.setState=function(e){return e}),re(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=Q(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return jt(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var Vt=0,qt=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function zt(e){return Vt++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=qt[te()];return t}())+"_"+Vt}var Ht=ht.moduleName_stateKeys_,Bt=ht.runtimeVar,Gt=1;function Yt(e,t,n,r,o){var a=t.refCtx,c=t.type;if(e!==Ke||a.__$$inBM){if(n){var i,u,s,d=typeof n;if("string"==d)be(r)?((u={})[n]=r,i=u):typeof r===R&&((s={})[n]=De(r,o),i=s);else if(be(n))i=n;else if(d===R&&!be(i=n(a)))throw Error("type of "+c+" callback result must be an object");i?function(O,N,D){var e=Bt.computedCompare,t=Bt.watchCompare,I=Bt.watchImmediate,A=N.type===ge?e:t,M=N.module;re(D).forEach(function(c,e){var t=D[c],n=typeof t,r=t;if(n===R&&(r={fn:t}),be(r)){var o=r,a=o.fn,i=o.immediate,u=void 0===i?I:i,s=o.compare,d=void 0===s?A:s,f=o.lazy,l=o.retKeyDep,p=void 0===l||l,y=r.depKeys||"-",_=r.sort||Gt++,v=zt("mark");if("*"===y||"-"===y){var m="-"===y&&p,h=Zt(N,M,c,m),C=h.pureKey,K=h.module;Xt(O,N,v,C),Qt(O,N,K,C,a,y,u,d,f,_)}else if(0===y.length){var g=Zt(N,M,c),S=g.pureKey,E=g.module;Xt(O,N,v,S),Qt(O,N,E,S,a,y,u,d,f,_)}else{var $=Zt(N,M,c),w=$.pureKey,b=$.moduleOfKey,x=b;Xt(O,N,v,w);var U={};y.forEach(function(e){var t=Zt(N,M,e),n=t.isStateKey,r=t.pureKey,o=t.module;if(x&&o!==x)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=Q(U,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");Jt(N,o,r),a.push(r)}),re(U).forEach(function(e){Qt(O,N,e,w,a,U[e],u,d,f,_)})}}else G("retKey["+c+"] item type error")})}(e,t,i):G(e+" "+c+" param type error")}}else G(e+" "+c+" must be been called in setup block")}function Xt(e,t,n,r){if(e===Ke){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function Jt(e,t,n){var r=e.refCtx;r&&(r.__$$staticWaKeys[Te(t,n)]=1)}function Qt(e,t,n,r,o,a,c,i,u,s){var d=J(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),f=d.retKey_fn_,l=d.stateKey_retKeys_,p=d.retKey_lazy_,y=d.retKey_stateKeys_,_=Array.isArray(a)&&0===a.length,v=s;_?v<0||(v=-1):s<0&&(v=0);var m={fn:o,immediate:c,compare:i,depKeys:a,sort:v,isStatic:_};f[r]?e!==Ke&&(f[r]=m,p[r]=u):(f[r]=m,p[r]=u,d.fnCount++),e===Ke&&(t.retKeyFns[r]=f[r]);var h=t.refCtx;if(h&&("computed"===t.type?h.hasComputedFn=!0:h.hasWatchFn=!0),"-"!==a){var C="*"===a?["*"]:a;"*"===a&&(y[r]=Ht[n]),C.forEach(function(e){ee(l,e,r)})}}function Zt(e,t,n,r){void 0===r&&(r=!1);var o,a=t,c=n,i="";if(n.includes("/")){var u=n.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var d=Ht[a];if(a===e.module)o=e.stateKeys;else{if(!(o=d))throw b(Ee.CC_MODULE_NOT_FOUND,M("module["+a+"]"));if(!e.connect[a])throw b(Ee.CC_MODULE_NOT_CONNECTED,M("module["+a+"], retKey["+c+"]"))}var f=o.includes(c);return r&&f&&function(e,t,n,r){var o=J(e.dep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),a=o.retKey_stateKeys_;ee(o.stateKey_retKeys_,n,n),ee(a,n,n),r&&Jt(e,t,n)}(e,a,c,d.includes(c)),{isStateKey:f,pureKey:c,module:a,moduleOfKey:i}}function en(e,o){var t={};return re(e).forEach(function(r){o[r]=L(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[v]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):G("computed value can not been changed manually")}})}),t}var tn=J,nn=be;function rn(n,e){if(e){var t="module["+n+"] computed";if(!nn(e))throw Error(t+" "+we);Ot(n,!1,t+" is invalid");var r=ht.computed,o=ht.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];Yt(k,{type:ge,module:n,stateKeys:re(i),dep:c},e);var u=ht.getDispatcher(),s=Object.assign({},i),d=tn(r._computedValueOri,n);a[n]=en(e,d);var f=a[n];ot(u,n,u&&u.ctx.module,i,function(e,t){return je(t,k,"computed",c,n,i,e)},i,i,s,le(n),!0,"computed",k,f)}}var on=be,an=J,cn=re;function un(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!on(e))throw Error(r+" "+we);Ot(n,!1,r+" is invalid");var o=ht.watch.getRootWatchDep(),a=ht.watch.getRootWatchRaw(),c=ht.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,ht.store.getState)(n);Yt(k,{module:n,stateKeys:cn(u),dep:o},e);var s=ht.getDispatcher(),d=Object.assign({},u),f=an(c,n);ot(s,n,s&&s.ctx.module,u,function(e,t){return je(t,k,"watch",o,n,u,e)},u,u,d,le(n),!0,"watch",k,f)}}var sn=[U,O,12,N,14,15],dn={};function fn(t,n){dn[t].forEach(function(e){e({sig:t,payload:n})})}function ln(e,t){function n(e,t){var n=dn[e];n?n.push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){n(e,t)}):n(e,t)}sn.forEach(function(e){return dn[e]=[]});var pn=function(e){if(!ht.errorHandler)throw e;ht.errorHandler(e)},yn=0,_n={},vn={},mn={},hn={};function Cn(){return++yn}function Kn(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function gn(e,t,n){Kn(e,t,n,_n)}function Sn(e,t,n){return gn(e,t,n),function(e){var t=function(e){return _n[e]}(e),n=[];return re(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function En(e){delete _n[e]}var $n={},wn=function(e,t,n){void 0===n&&(n=1e3);var r=$n[t];r&&clearTimeout(r),$n[t]=setTimeout(function(){delete $n[t],e()},n)};function bn(e,n,r,t,o,a){var c=e.ctx;if(!c.hasWatchFn)return{shouldCurrentRefUpdate:!0};var i=Object.assign({},t),u=c.watchDep,s=c.module,d=c.ccUniqueKey,f=c.refComputed;n!==s&&(f=c.connectedComputed[n]);var l=Object.assign({},r,t);return ot(e,n,s,r,function(e,t){return je(t,Ke,Se,u,n,r,e,d)},t,l,i,o,a,Se,Ke,f)}function xn(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=e.ctx,u=Object.assign({},t);if(!i.hasComputedFn)return u;var s=i.computedDep,d=i.module,f=i.ccUniqueKey,l=i.refComputed;n!==d&&(l=i.connectedComputed[n]);var p=Object.assign({},r,t);return ot(e,n,d,r,function(e,t){return je(t,Ke,"computed",s,n,r,e,f)},t,p,u,o,a,"computed",Ke,l),c&&Object.assign(t,u),u}var Un=re,On=ht.ccUKey_ref_,Nn=ht.waKey_uKeyMap_,Dn=ht.waKey_staticUKeyMap_;function In(o,e,c,i){var t=Un(e),n=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,t,c,i),r=function(e,t){return At[e][t]}(o,n);if(r)return{sharedStateKeys:t,result:r};var a={},u=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,Nn[t],Dn[t])});function d(e,t){e?u.push(t):s.push(t)}function f(e,t){var n=e.ctx,r=n.ccClassKey,o=n.ccUniqueKey;if(c){var a=n.renderKey===c;"*"===i?a&&d(t,o):i.includes(r)?a&&d(t,o):d(t,o)}else d(t,o)}var l=Un(a),p=!1;l.forEach(function(e){var t=On[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&f(t,!0),r&&f(t,!1)}else p=!0});var y={belong:u,connect:s};return p||function(e,t,n){At[e][t]=n}(o,n,y),{sharedStateKeys:t,result:y}}var An=be,Mn=G,Tn=E,Rn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},Wn=re,kn=1,Fn=2,Ln=Ce,jn=me,Pn=he,Vn=w,qn=K,zn=15,Hn=1,Bn=2,Gn=3,Yn=ht.store,Xn=Yn.setState,Jn=Yn.getPrevState,Qn=Yn.saveSharedState,Zn=ht.middlewares,er=ht.ccClassKey_ccClassContext_,tr=ht.refStore,nr=ht.moduleName_stateKeys_;function rr(e,t,c){var n=void 0===t?{}:t,i=n.module,r=n.skipMiddleware,u=void 0!==r&&r,s=n.payload,o=n.reactCallback,d=n.type,a=n.calledBy,f=void 0===a?jn:a,l=n.fnName,p=void 0===l?"":l,y=n.renderKey,_=void 0===y?"":y,v=n.delay,m=void 0===v?-1:v;if(void 0!==e)if(An(e)){var h=c.ctx,C=h.module,K=h.ccUniqueKey,g=h.ccKey,S=function(e,t){return e===t?kn:Fn}(i,C),E={payload:s,renderKey:_,ccKey:g,module:i,fnName:p},$=function(e,t,n){var r=Ve(t,nr[e],!0).partialState;if(r)return Xn(e,r,n);return r}(i,e,{ref:c,callInfo:E,noSave:!0});Object.assign(e,$),or(c,E,_,f,e,S,o,function(n,r,o){var a={calledBy:f,type:d,payload:s,renderKey:_,delay:m,ccKey:g,ccUniqueKey:K,committedState:r,refModule:C,module:i,fnName:p,sharedState:$||{},modState:function(e,t){a.committedState[e]=t,a.sharedState[e]=t}};!function(e,n,r){var o=!1;if(!0!==e){var a=Zn.length;if(0<a){o=!0;var c=0;!function e(){if(c===a)r(o);else{var t=Zn[c];c++,"function"==typeof t?t(n,e):(Mn("found one middleware is not a function"),e())}}()}else r()}else r(o)}(u,a,function(e){var t=$;e?t=Qn(i,a.sharedState,!0):$&&Qn(i,$),o&&o(),n===Hn&&!t||fn(zn,{committedState:r,sharedState:t,module:i,type:function(e,t){return[Ln,jn,Pn,Vn,qn].includes(e)?"ccApi/"+e:"dispatch/"+t}(f,d),ccUniqueKey:K,renderKey:_}),t&&function(e,t,n,r,o,a,c){var i=function(){!function(c,e,i,t,u,n){if(!i)return;var s=ht.ccUKey_ref_,r=e.ctx,o=r.ccUniqueKey,a=t===kn,d=In(u,i,n,er[r.ccClassKey].renderKeyClasses),f=d.sharedStateKeys,l=d.result,p=l.connect;l.belong.forEach(function(e){var t=s[e];if(t){var n=t.ctx.ccUniqueKey;a&&n===o||or(t,c,null,"broadcastState",i,kn)}});var y=Jn(u);p.forEach(function(e){var t=s[e];if(t&&!0!==t.__$$isUnmounted){var n=t.ctx,r=xn(t,u,y,i,c),o=bn(t,u,y,r,c),a=o.shouldCurrentRefUpdate;a&&(n.__$$settedList.push({module:u,keys:f}),n.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=Rn(t.ctx.ccUniqueKey,n);wn(i,u,c)}else i()}(E,c,t,S,i,_,m)})})}else Mn("your committed state "+we)}function or(e,t,n,r,o,a,c,i){var u=e.state,s=e.ctx;if(!0===e.__$$isUnmounted||a!==kn||r!==Ln&&!Tn(o))return c&&c(u),i&&i(Hn,o);var d=s.module,f=s.storedKeys,l=s.ccUniqueKey,p=Gn;if(n&&(p=Bn,s.renderKey!==n))return i&&i(Hn,o);if(0<f.length){var y=Ve(o,f),_=y.partialState;if(!y.isStateEmpty){if(!0===s.persistStoredKeys){var v=Ve(u,f),m=Object.assign({},v.partialState,_);localStorage.setItem("CCSS_"+l,JSON.stringify(m))}tr.setState(l,_)}}function h(){s.__$$settedList.push({module:d,keys:Wn(C)}),s.__$$ccSetState(C,c,K)}var C=xn(e,d,u,o,t),K=bn(e,d,u,C,t,!1).shouldCurrentRefUpdate;i?i(p,C,h):h()}function ar(e,t,n,r,o){void 0===r&&(r=-1);try{Rt(e).ctx.changeState(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}catch(e){X(e)}}var cr=G,ir=be,ur=re,sr=ht.store,dr=sr.getState,fr=sr.setState,lr=ht.reducer._reducer,pr=ht.computed._computedValue,yr=b,_r=M;function vr(e,t){void 0===t&&(t=!0);try{return Ot(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;Cr(e)}(e,t),!1}}function mr(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function hr(e,t,n,r){var o;return!0===e?(function(e){mn[e]=!0}(o=Cn()),r[o]=1):r[o=t||Cn()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function Cr(e,t){e&&(t?t(e):(cr(e),ht.errorHandler&&ht.errorHandler(e)))}function Kr(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:mr(e,t)});r(o,n,c)}).catch(pn)}(wr,e,t,n)}function gr(e,t,n){return Kr(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function Sr(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function Er(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function $r(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,E=void 0!==r&&r,o=t.chainId_depth_,$=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=E,c="",i=null!=r?r:S;if(ir(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=hr(o,C,K,$),_=typeof e,v={callerRef:h,calledBy:w,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:$,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==_)return e.__fnName&&(e.name=e.__fnName),gr(e,v,t);if("object"!=_)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(v.module=p),gr(l,v,t)}}function wr(l,e,p){var y=e.callerRef,_=y.ctx.module,t=e.module,v=void 0===t?_:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,E=e.renderKey,$=e.chainId,w=e.oriChainId,b=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;vr(e,!1)?(e!==t&&n&&(cr(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(v,_,e.cb,function(e,r){if(e)return Cr(e,h);var o,t=dr(v),n={};if(o=$===w&&1===b[$],m){b[$]=b[$]+1;var a=br(y,!1,x,v,E,S,$,w,b),c=br(y,!1,!0,v,E,S,$,w,b),i=br(y,!0,x,v,E,S,$,w,b),u=$r(y,{delay:S,chainId:$,oriChainId:w,chainId_depth_:b}),s=$r(y,{isLazy:!0,delay:S,oriChainId:w,chainId_depth_:b}),d=$r(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:w,chainId_depth_:b}),f=function(e){return hn[e]}($)||{};n={module:v,callerModule:_,committedStateMap:f,committedState:f[v]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:dr(),globalState:dr(ye),moduleState:t,moduleComputed:pr[v]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:E,delay:S})},refCtx:y.ctx}}!1===x&&fn(U,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){b[$]=b[$]-1;var t=1===b[$];!function(e,t,n){Kn(e,t,n,hn)}($,v,e);var n=[];!1===x&&(fn(O,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),!function(e){return!0===mn[e]}($)?n=[{module:v,state:e}]:t?function(e){return!0===vn[e]}($)||(n=Sn($,v,e),En($)):gn($,v,e)),n.forEach(function(e){e.state&&rr(e.state,{renderKey:E,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&(En($),function(e){delete hn[e]}($)),h&&h(null,e)}).catch(function(e){fn(N,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),Cr(e,h)})})}function br(b,x,U,O,N,D,I,A,M){return void 0===N&&(N=""),void 0===D&&(D=-1),void 0===M&&(M={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=U,c="",i=r||D;if(ir(t)){c=N;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||N;function l(){return $r(b,{chainId:v,oriChainId:m,isLazy:o,chainId_depth_:M})(e,n,c,i)}var p,y,_=hr(o,I,A,M),v=_._chainId,m=_._oriChainId,h=typeof e,C=O;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(yr(Ee.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==M[m]&&(C=e.__stateModule)}var E=g.split("").filter(function(e){return"/"===e}).length;if(0===E)p=g;else{if(1!==E)return Promise.reject(yr(Ee.CC_DISPATCH_STRING_INVALID,_r(g)));var $=g.split("/"),w=$[0];w&&(C=w),p=$[1]}}return"*"===C?Lt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:b.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,_=lr[r];if(!_)return s(Error("no reducerMap found for module:["+r+"]"));var v=_[c];if(!v)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(_)));wr(v,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:T,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:b,module:C,type:p,payload:n,cb:y,__innerCb:mr(e,t),delay:i,renderKey:c,isSilent:a,chainId:v,oriChainId:m,chainId_depth_:M})}).catch(pn)}}function xr(a){return function(t){try{ar(a,t)}catch(e){var n=dr(a);if(!n)return cr("invalid module "+a);var r=Ve(t,ur(n),!1,!0),o=r.ignoredStateKeys;r.isStateEmpty||fr(a,r.partialState),0<o.length&&cr("invalid keys:"+o.join(",")+", their value is undefined or they are not declared in module"+a),Y("no ccInstance found for module["+a+"] currently, cc will just store it, lately ccInstance will pick this state to render")}}}var Ur=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===_e?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isMounted?o.state=r:Object.assign(o.state,e),n.__boundSetState(r,t))}},Or=function(r){return function(e){var t=r.ctx;if(t.type===_e){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},Nr=be,Dr=pe;function Ir(t,e){if(ht.isStartup){if(!Nr(e))throw Error("param config "+we);if(t===ye)throw Error("configuring global module is not allowed");var n=e.reducer,r=e.computed,o=e.watch,a=e.init,c=e.isClassSingle,i=Dr(e.state);if(n&&!Nr(n))throw Error("config.reducer "+we);if(Tt(t,i,!0),Pt(t,n),r&&rn(t,r),o&&un(t,o),ht.moduleSingleClass[t]=!0===c,a){if("function"!=typeof a)throw Error("init value must be a function!");Promise.resolve().then(a).then(function(e){xr(t)(e)})}ht.moduleName_isConfigured_[t]=!0,fn(14,t)}else Et.push({module:t,config:e})}function Ar(r,o){var a={};return re(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function Mr(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function Tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Rr=re,Wr=be,kr=ht.store._state;var Fr=$,Lr=b,jr=ht.featureStr_classKey_,Pr=ht.userClassKey_featureStr_,Vr=ht.ccClassKey_ccClassContext_,qr=0;var zr=ht.moduleName_stateKeys_,Hr=ht.moduleName_ccClassKeys_,Br=ht.moduleSingleClass,Gr=ht.ccClassKey_ccClassContext_,Yr=ht.computed._computedValue,Xr=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},Jr=M;function Qr(e,t,n,r,o,a,c,i,u){void 0===e&&(e=P),void 0===a&&(a=[]),!0===i&&function(){if(!0!==ht.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;Ot(e,!1,"module["+e+"] is not configured in store"),Nt(zr[e],a);var d=c;Array.isArray(c)&&(d={},c.forEach(function(e){return d[e]="-"})),e===ye||d[ye]||(d[ye]="-");var f,l=function(e,t,n){if(t===z)return[];if(!n)return[];if("*"===n)return zr[e];var r=Xr(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+g+" "+Jr("ccClassKey:"+t));return n}(e,t,o),p=function(o,e,t,a){if(!Wr(o))throw Error("CcFragment or CcClass's prop connect type error, it "+we);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=Rr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=kr[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),Rr(n).forEach(function(e){return s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!n.hasOwnProperty(e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,l),y=p.connectedModuleKeyMapping,_=p.connectedModuleNames,v=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===P&&Fr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=jr[i];return u||(jr[i]=u=""+o+ ++qr)}if(c.startsWith(m))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==z.toLowerCase())throw Error(z+" is cc built-in ccClassKey name, if you want to customize your dispatcher, \n      you can set autoCreateDispatcher=false in StartupOption, and use createDispatcher then.");if(Vr[c]){if(Pr[c]!==a)throw Lr(Ee.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else Pr[c]=a;return c}(s,e,d,l,r,p.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");f=n}else f=[v];return function(e,t,n,r,o,a,c){var i=Gr[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),Gr[e]=i);var u={},s={};if(a){var d=ht.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=Yr[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(v,f,e,o,l,y,_),function(e,t){var n=Q(Hr,e);if(!0===Br[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,v),{_module:e,_connect:d,_watchedKeys:l,_ccClassKey:v}}var Zr=ht.event_handlers_,eo=ht.handlerKey_handler_,to=ht.ccUKey_handlerKeys_,no=ht.ccUKey_ref_,ro=function(e,t,n){return e+"$"+t+"$"+n},oo=Q,ao=G;function co(e,t,n,r,o){void 0===o&&(o=null);var a=Zr[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function io(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete eo[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=Zr[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete to[n])}),Zr[e]=r.filter(function(e){return null!==e}))})}function uo(e,t,n,r,o,a){var c=oo(Zr,r);if("function"!=typeof a)return ao("event "+r+"'s handler is not a function!");var i=ro(n,r,o),u=oo(to,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),eo[i]=d}function so(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r,o,c,i,u=null,s=null;"string"==typeof e?r=e:(r=e.name,u=e.identity,o=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),co(r,o,c,i,u).forEach(function(e){var t=e.handlerKey,n=no[e.ccUniqueKey];if(n&&t){if(n.__$$isUnmounted)return;var r=eo[t];if(r){if(s&&!s(n))return;var o=r.fn;n.__$$isMounted?o.apply(void 0,a):n.ctx.__$$onEvents.push({fn:o,args:a})}}})}function fo(e,t){io(co(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function lo(e){var t=to[e];if(t){var n=[];t.forEach(function(e){return n.push(eo[e])}),io(n)}}function po(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var yo=Object.freeze({bindEventHandlerToCcContext:uo,findEventHandlersToPerform:so,findEventHandlersToOff:fo,offEventHandlersByCcUniqueKey:lo,getEventItem:po});function _o(n,e,r,o){return new Proxy(e,{get:function(e,t){return ze(n,r,t,o),e[t]},set:function(e,t,n){return e[t]=n,!0}})}var vo=G,mo=D;function ho(e){return e?e.props||e:{}}var Co=ht.store.getState;var Ko=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[ve],p=e.type,y=!1;if(void 0!==l){var _,v,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");_=h[1],v=c,m=h[0]}else v=r+"/"+(_=c),m=r;var C=Co(m);u="bool"===p?!Ue(m!==r?C:o,_):function(e){var t=oe(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,_,{module:m,moduleState:C,fullKeyPath:v,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):G("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var E=oe(t);if(!E)return null;var $=E.currentTarget;u=$.value;var w=$.dataset;if(a="int"===p||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{d=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var go=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(G(t+" can not convert to int but you set ccint as true!ÔºÅ"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],_=i.slice(1),v=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?G("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(v,_,_.length-1,0,a,o),{module:c,state:(p={},p[y]=v,p)}},So=ht.store.getState;function Eo(e,t,n){var r=t.ctx,o=r.module,a=Ko(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var _=f.split("/")[0];Ot(_,!1);var v=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&rr(s,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t));var h=_!==o?So(_):t.state;rr(go(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=go(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var $o=ht.reducer,wo=$o._module_fnNames_,bo=$o._caller,xo=ht.refStore,Uo=ht.ccClassKey_ccClassContext_,Oo=ht.moduleName_stateKeys_,No=ht.store.getState,Do=ht.moduleName_ccClassKeys_,Io=re,Ao=b,Mo=M,To=Q,Ro=J,Wo=G,ko=$,Fo=0;var Lo=function(){},jo=function(e){return"type of defineEffect "+e+" param must be"},Po=function(e){return"-"===e.watchedKeys?Io(e.__$$renderStatus===h?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Vo=function(t,e){function n(e){return Io(t.__$$renderStatus===h?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function r(e){if(c)return n(e);var t=o[e];return"*"===t?Oo[e]:"-"===t?n(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return r(e);var i={};return a.forEach(function(e){return i[e]=r(e)}),i};function qo(t,n,e){("*"===e?Oo[n]:e).forEach(function(e){return function(e,t,n){Me(Ie,Te(e,t),n)}(n,e,t)})}function zo(c,e,t){var n;void 0===t&&(t=5);var r=e.isSingle,o=e.ccClassKey,a=e.ccKey,i=void 0===a?"":a,u=e.module,s=e.type,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,_=e.watchedKeys,v=e.connect,m=void 0===v?{}:v,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=u,E=c.ctx,$=ko(E),w=Oo[S],b=c.setState,x=c.forceUpdate;!$&&E.ccUniqueKey?(b=E.__boundSetState,x=E.__boundForceUpdate):s!==_e&&(b=c.setState.bind(c),x=c.forceUpdate.bind(c));var U={};U.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,U.tag=g.tag||C;var O=function(e,t,n,r){var o;if(e)n&&vo("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=mo(t,n);else{var a=zt(r);o=mo(t,a)}return o}(r,o,i,U.tag);if(U.renderKey=g.renderKey||O,U.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(Nt(t,o),o):[]}(d,w,g.storedKeys,l),i&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+i+"]");if(0<U.storedKeys.length&&!i)throw Ao(Ee.CC_STORED_KEYS_NEED_CCKEY,Mo("ccClassKey["+o+"]"));var N=No(u),D=xo._state[O]||{},I=Object.assign({},d,D,N),A=Io(c.state=I),M=Uo[o].connectedState,T=Io(m),R={},W={};T.forEach(function(e){return W[e]=Xe(c,e,!1)});var k,F=Xe(c,u),L=Xe(c,ye),j=_o(c,No(ye),ye,!1),P=xe(Io(d),w);k=S===ye?j:_o(c,N,u,!0);var V=To(Do,u);V.includes(o)||V.push(o);function q(e,t){rr(e,t,c)}function z(e,t,n,r,o,a){q(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){z(e,t,he,n,r,o)}function B(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):z(S,e,me,t,n,r)}function G(e,t,n){z(S,c.state,Ce,e,t,n)}var Y=[],X=[],J={effectItems:Y,eid_effectReturnCb_:{},effectPropsItems:X,eid_effectPropsReturnCb_:{}},Q={},Z=ho(c.props),ee=((n={type:s,isSingle:r,module:u,ccClassKey:o,ccKey:i,ccUniqueKey:O,renderCount:1,initTime:Date.now(),watchedKeys:_,privStateKeys:P,connect:m,connectedModules:T,__$$onEvents:[],__$$hasModuleState:0<w.length,__$$renderStatus:$e,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:U.persistStoredKeys,storedKeys:U.storedKeys,renderKey:U.renderKey,tag:U.tag,prevProps:Z,props:Z,mapped:{},prevState:I,state:I,moduleState:k,mstate:N,globalState:j,connectedState:R,extra:{},staticExtra:{},refComputed:{},refComputedValue:{},refComputedOri:{},moduleComputed:F,globalComputed:L,connectedComputed:W,moduleReducer:{},connectedReducer:{},reducer:{}}).mapped={},n.stateKeys=A,n.computedDep={},n.computedRetKeyFns={},n.watchDep={},n.watchRetKeyFns={},n.execute=null,n.effectMeta=J,n.retKey_fnUid_={},n.reactSetState=Lo,n.__boundSetState=b,n.reactForceUpdate=Lo,n.__boundForceUpdate=x,n.setState=B,n.setModuleState=H,n.forceUpdate=G,n.changeState=q,n.refs=Q,n.useRef=function(t){return function(e){return Q[t]={current:e}}},n.__$$ccSetState=Sr(c),n.__$$ccForceUpdate=Er(c),n.__$$settedList=[],n.__$$prevMoStateVer={},n);c.setState=B,c.forceUpdate=G,ee.initState=function(e){return c.__$$isMounted?Wo("ctx.initState can only been called before first render period!"):be(d)?(c.state=Object.assign({},d,e,D,k),void(ee.prevState=ee.state=c.state)):Wo("state "+we)};var te=br(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=br(c,!0,!1,S),ee.silentDispatch=br(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=$r(c),ee.lazyInvoke=$r(c,{isLazy:!0}),ee.silentInvoke=$r(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){z(ye,e,me,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return Eo.bind(null,((a={})[ve]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);Eo({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),Eo(((o={})[ve]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),Eo(((r={})[ve]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];so.apply(yo,[po(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?O:a,i=po(e);fo(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=po(e),r=n.identity;uo(S,o,O,n.name,void 0===r?null:r,t)}),4<t){ee.execute=function(e){return ee.execute=e},ee.watch=function(r){return function(e,t,n){Yt(Ke,{type:Se,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.watchRetKeyFns,module:r.module,connect:r.connect,dep:r.watchDep},e,t,n)}}(ee),ee.computed=function(r){return function(e,t,n){Yt(Ke,{type:ge,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.computedRetKeyFns,module:r.module,connect:r.connect,dep:r.computedDep},e,t,n)}}(ee);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(jo("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(jo("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){var t;if(e.includes("/")){var n=(t=e).split("/");if(!ee.connect[n[0]])throw Ao(Ee.CC_MODULE_NOT_CONNECTED,Mo("depKey["+e+"]"))}else t=S+"/"+e;c.push(t),ee.__$$staticWaKeys[t]=1}));var i={fn:e,isProp:s,depKeys:o,modDepKeys:c,eId:Symbol("__autoGen_"+ ++Fo+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(Y,!1),ee.effectProps=re(X,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$curConnWaKeys,ie=ee.__$$compareConnWaKeys,ue=ee.__$$compareConnWaKeyCount,se=ee.__$$nextCompareConnWaKeys,de=ee.__$$nextCompareConnWaKeyCount,fe=T.slice();fe.includes(u)?Wo("["+O+"]'s module["+u+"] is in belongTo and connect both, it will cause redundant render."):fe.push(u);var le=!1;if(fe.forEach(function(o){var e;e=o===u?oe:Ro(ae,o);var t=m[o];if(t){var n=M[o];"-"===t?(le=!0,ce[o]={},ie[o]={},ue[o]=0,se[o]={},de[o]=0,n=o===ye?ee.globalState:_o(c,n,o)):qo(O,o,t),R[o]=n}(wo[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=bo,"-"===_?le=!0:qo(O,u,_),ee.__$$autoWatch=le,ee.getWatchedKeys=function(){return Po(c.ctx||ee)},ee.getConnectWatchedKeys=function(e){return Vo(c.ctx||ee,e)},$)c.ctx=ee;else{var pe=c.ctx;Object.assign(c.ctx,ee,{__$$curWaKeys:pe.__$$curWaKeys,__$$compareWaKeys:pe.__$$compareWaKeys,__$$compareWaKeyCount:pe.__$$compareWaKeyCount,__$$nextCompareWaKeys:pe.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:pe.__$$nextCompareWaKeyCount,__$$curConnWaKeys:pe.__$$curConnWaKeys,__$$compareConnWaKeys:pe.__$$compareConnWaKeys,__$$compareConnWaKeyCount:pe.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:pe.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:pe.__$$nextCompareConnWaKeyCount})}}var Ho=ht.store.getState;var Bo=re,Go=ht.runtimeVar;function Yo(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,r.__$$inBM=!(n.__$$isMounted=!1),e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!be(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===Go.bindCtxToMethod&&!1!==t)&&Bo(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.refComputedValue=en(r.computedRetKeyFns,r.refComputedOri),r.refComputed=Xe(n,null,!0,!0),function(o){function e(r){r(o,c,i,i,u,!0,!0),a.forEach(function(e){var t=Ho(e),n=le(e);r(o,e,t,t,n,!0,!0)})}var t=o.ctx,n=t.hasComputedFn,r=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.state,u=le(c);n&&e(xn),r&&e(bn)}(n),r.__$$inBM=!1}var Xo=ht.moduleName_stateKeys_,Jo=ht.store,Qo=Jo.getPrevState,Zo=Jo.getState,ea=Jo.getStateVer,ta=function(e,t){return G("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function na(e,t){function n(a,c,i){return function(e){var t=e.fn,n=e.eId;if(!i||!1!==e.immediate){var r=a[n];r&&r(u);var o=t(u,c);a[n]=o}}}var u=e.ctx,r=u.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,i=r.eid_effectPropsReturnCb_,m=u.__$$prevMoStateVer,h=u.__$$settedList,C=u.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(i,!0,!0));else{var K=u.prevState,g=e.state,S=[];o.forEach(function(e){var t=e.modDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(h),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=s.split("/"),p=l[0],y=l[1];if(p!==C){var _=Qo(p),v=ea(p);if(m[y]===v[y])continue;if(m[y]=v[y],!_){ta(s,"module["+p+"]");continue}if(!Xo[p].includes(y)){ta(s,"unmoduledKey["+y+"]");continue}d=Zo(p),f=_}else d=g,f=K;if(f[y]!==d[y]){i=!0;break}}else if(c[s]){i=!0;break}}i&&S.push({fn:r,eId:o})}else S.push({fn:r,eId:o})}),S.forEach(n(a,!1,!1));var s=u.prevProps,d=u.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(i,!1,!1)),h.length=0}}var ra=G,oa=b,aa=M,ca=H,ia=j,ua=ht.runtimeVar,sa=ht.ccClassKey_ccClassContext_,da=ht.ccUKey_ref_,fa={};function la(e,t,n,r){function o(){da[e]=t,n.push(e)}!function(e){void 0===fa[e]?fa[e]=1:fa[e]+=1}(e),r?setTimeout(o,r):o()}function pa(e,t,n,r,o){var a=sa[n],c=a.ccKeys;ua.isDebug&&console.log(ca("register ccKey "+o+" to CC_CONTEXT"),ia());var i=ht.isHotReloadMode();if(c.includes(o)){var u=function(){throw oa(Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE,aa("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===fa[e]?0:fa[e]}(o);if(t&&0<s)throw oa(Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE,aa("ccClass:"+n));1<s&&u(),ra("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+aa("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),la(o,e,c,600)}else u()}else la(o,e,c);return a}function ya(t,e,n,r){var o=!1,a=re(t);a.forEach(function(e){2===t[e]&&(o=!0,We(n,e,r))}),e<a.length&&(o=!0),o&&Mt(n)}function _a(e){var t=e.ctx;if(t.__$$renderStatus=$e,t.__$$autoWatch){var n=t.connectedModules,r=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;ya(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),n.forEach(function(e){"-"===r[e]&&ya(a[e],c[e],e,o)})}}function va(e){_a(e),e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.ccUniqueKey,r=t.__$$onEvents,o=t.__$$staticWaKeys;pa(e,t.isSingle,t.ccClassKey,t.ccKey,n);var a=re(o);(e.ctx.__$$staticWaKeyList=a).forEach(function(e){return function(e,t){Me(Ae,e,t)}(e,n)}),0<r.length&&(r.forEach(function(e){return e.fn.apply(void 0,e.args)}),r.length=0),na(e,!0)}function ma(e){_a(e),na(e),e.ctx.prevState=e.state}var ha=ht.ccUKey_ref_,Ca=ht.ccUKey_handlerKeys_,Ka=ht.runtimeVar,ga=ht.ccClassKey_ccClassContext_,Sa=ht.handlerKey_handler_;function Ea(e,t){Ka.isDebug&&console.log(H(t+" unset ref"),j("purple")),delete ha[t];var n=ga[e].ccKeys,r=n.indexOf(t);r<0||n.splice(r,1),function(e){void 0===fa[e]?fa[e]=0:fa[e]-=1}(t);var o=Ca[t];o&&o.forEach(function(e){delete Sa[e]})}var $a=re;function wa(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),$a(n).forEach(e)}function ba(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey,o=t.module,a=t.__$$staticWaKeyList;if(e.__$$isMounted){var c=t.effectMeta,i=c.eid_effectPropsReturnCb_;wa(c.eid_effectReturnCb_,t),wa(i,t),lo(n)}t.getWatchedKeys().forEach(function(e){return We(o,e,n)});var u=t.getConnectWatchedKeys();re(u).map(function(t){u[t].forEach(function(e){return We(t,e,n)})}),a.forEach(function(e){return function(e,t){try{delete Ae[e][t]}catch(e){}}(e,n)}),Ea(r,n)}function xa(e){var t=e.ctx;if(t.__$$renderStatus=h,t.__$$autoWatch){t.__$$hasModuleState&&(Object.assign(e.state,t.mstate),e.state=_o(e,e.state,t.module,!0),t.state=e.state,t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0);var n=t.connect;t.connectedModules.forEach(function(e){"-"===n[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var Ua=function(e){return"CC("+e+")"},Oa=Oe,Na=ce,Da=pe,Ia=ht.runtimeVar,Aa=j,Ma=H,Ta=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function Ra(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?P:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,_=void 0===y?{}:y,v=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,E=n.__checkStartUp,$=void 0===E||E,w=n.compareProps,b=void 0===w||w,x=n.__calledBy;void 0===t&&(t="");try{var U=Qr(o,t,S,A,Oa(s),d,_,$,x),O=U._module,N=U._ccClassKey,D=U._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:I.Component,i=e.$$setup,t=function(c){function e(e,t){var n;try{n=c.call(this,e,t)||this;var r=Da(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(Tr(n));var a=Object.assign({},e,{isSingle:g,module:O,tag:v,state:o,type:A,watchedKeys:s,ccClassKey:N,connect:D,storedKeys:d,persistStoredKeys:p});if(zo(Tr(n),a,m),n.ctx.reactSetState=Ur(Tr(n)),n.ctx.reactForceUpdate=Or(Tr(n)),l&&(n.$$setup||i))throw Ta("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(Tr(n))),Yo(Tr(n),l||n.$$setup||i,!1))}catch(e){pn(e)}return n}Mr(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!b&&Na(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=Sr(e,this),t.__$$ccForceUpdate=Er(e),e.state||(e.state={}),Object.assign(e.state,this.state),xa(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw Ta("ccUniqueKey "+t.ccUniqueKey);Yo(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),va(this)},t.componentDidUpdate=function(){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this),ma(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),ba(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,Ia.isDebug&&console.log(Ma("@@@ render "+Ua(N)),Aa()),!1===C?(xa(this),c.prototype.render.call(this)):I.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=N===z?"CcDispatcher":Ua(N),t}}catch(e){pn(e)}}function Wa(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return Mr(t,e),t.prototype.render=function(){return this.props.children||I.createElement("span",{style:{display:"none"}})},t}(I.Component);if(ht.refs[z]){if(!ht.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");Y("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return Ra({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},z)(n)}var ka=be,Fa=re;function La(e,t){if(!ka(e))throw Error(t+" "+we)}function ja(e){if(!ka(e))throw Error("StartupOption.moduleSingleClass "+we);!function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}(ht.moduleSingleClass,e)}function Pa(e){if(0<e.length){var o=ht.plugins;o.length=0,sn.forEach(function(e){return dn[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(ln),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1}),ht.pluginNameMap=a}}var Va=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(I.createElement(e),t)},qa=!1;function za(e,r){void 0===e&&(e=!1),Ze={},et={},ne(ht.event_handlers_),ne(ht.ccUKey_handlerKeys_);var o=ht.ccClassKey_ccClassContext_,t=ht.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),ne(t.ccKeys,n)}),ne(ht.handlerKey_handler_),ne(t,[z].concat(r)),e){var n=ht.computed,a=ht.watch,c=n._computedValue,i=a._watchDep;re(ht.store._state).forEach(function(e){e!==V&&(c[e]&&(ht.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},rn(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},un(e,a._watchRaw[e])))})}}function Ha(){var n=ht.ccUKey_ref_,r=[];return re(n).forEach(function(e){var t=n[e];t&&t.ctx.type===x&&!0!==t.props.__$$regDumb&&!0===t.__$$isMounted&&0==t.__$$isUnmounted&&r.push(e)}),r}function Ba(){ne(ht.globalStateKeys);var e=re(ht.moduleName_isConfigured_).concat([P,V,ye,a]);ne(ht.reducer._reducer,e),ne(ht.store._state,e,{}),ne(ht.computed._computedDep,e),ne(ht.computed._computedValue,e),ne(ht.watch._watchDep,e),ne(ht.middlewares),ne(ht.waKey_uKeyMap_),ke={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=Ha();return za(!1,t),t}function Ga(e){void 0===e&&(e=!1),ht.info.latestStartupTime=Date.now();var t=[];return ht.isStartup?ht.isHotReloadMode()?e?(console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),qa=!0,t=Ba()):(qa?qa=!1:(function(){if(!ht.refs[z]){var e=Wa();Va(e)}}(),t=Ha(),za(ht.reComputed,t)),t):(console.warn("clear failed because of not running under hot reload mode!"),t):(qa=!0,t)}var Ya=ie,Xa=pe;function Ja(e){var t=e.props,n=Ya(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,_=n.isSingle,v=n.storedKeys,m=void 0===v?[]:v,h=Xa(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,E=l,$=C,w=y;if(!0!==t.__$$regDumb){var b=Qr(r,C,o,x,Oe(l),m,y,!0);E=l,$=b._ccClassKey,w=b._connect}zo(e,{isSingle:_,ccKey:K,connect:w,state:h,module:r,storedKeys:m,watchedKeys:E,tag:a,ccClassKey:$,ccOption:S,type:x},c),e.ctx.reactSetState=Ur(e),e.ctx.reactForceUpdate=Or(e),e.__$$compareProps=u,Yo(e,s,d)}var Qa=Y,Za=ae,ec="";function tc(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.computed,d=void 0===s?{}:s,f=n.watch,l=void 0===f?{}:f,p=n.moduleSingleClass,y=void 0===p?{}:p,_=void 0===t?{}:t,v=_.plugins,m=void 0===v?[]:v,h=_.middlewares,C=void 0===h?[]:h,K=_.isStrict,g=void 0!==K&&K,S=_.isDebug,E=void 0!==S&&S,$=_.errorHandler,w=void 0===$?null:$,b=_.isHot,x=_.bindCtxToMethod,U=void 0!==x&&x,O=_.computedCompare,N=void 0===O||O,D=_.watchCompare,I=void 0===D||D,A=_.watchImmediate,M=void 0!==A&&A,T=_.reComputed,R=void 0===T||T;try{throw Error()}catch(e){var W=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=ht.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return Ga(ht.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(ec)if(ec!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);fe()?(u=c(),ec=a):(X(d),s=!1)}else u=c();else ec=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),k=W.ccFragKeys;if(!W.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),Qa("cc version "+ht.info.version),void 0!==b&&(ht.isHot=b),ht.reComputed=R,ht.errorHandler=w;var F=ht.runtimeVar;if(F.isStrict=g,F.isDebug=E,F.computedCompare=N,F.watchCompare=I,F.watchImmediate=M,F.bindCtxToMethod=U,!ht.refs[z]){var L=Wa();Va(L)}ja(y),function(e){La(e,"state"),delete e[q],delete e[V],void 0===e[ye]&&(e[ye]={}),void 0===e[P]&&(e[P]={});for(var t=Fa(e),n=t.length,r=0;r<n;r++){var o=t[r];Tt(o,e[o])}}(o),function(t){La(t,"reducer"),void 0===t[P]&&(t[P]={}),void 0===t[ye]&&(t[ye]={}),Fa(t).forEach(function(e){return Pt(e,t[e])})}(c),function(t){La(t,"computed"),Fa(t).forEach(function(e){return rn(e,t[e])})}(d),function(t){La(t,"watch"),Object.keys(t).forEach(function(e){return un(e,t[e])})}(l),function(n){if(n){if(!ka(n))throw Error("init "+we);Fa(n).forEach(function(t){Ot(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){xr(t)(e)})}),ht.init._init=n}}(u),function(e){if(0<e.length){var t=ht.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(C);var j=function(e){Za("CC_CONTEXT",ht,e),Za("ccc",ht,e),Za("cccc",ht.computed._computedValue,e),Za("sss",ht.store._state,e)};window.mcc?setTimeout(function(){j(window.mcc[se()])},1200):j(),ht.isStartup=!0,Pa(m),k.forEach(function(e){var t=ht.ccUKey_ref_[e];ba(t),Ja(t),va(t)})}catch(e){if(!w)throw e;w(e)}}}function nc(e){throw Error("[[run]]: param error, "+e+" "+we)}var rc=be,oc=re,ac=$,cc=pe;function ic(e,t){var n=ie(e);return delete n.__checkStartUp,delete n.__calledBy,Ra(n,t)}var uc=ce,sc=I.createElement("span",{style:{display:"none"}}),dc=function(r){function e(e,t){var n;return Ja(Tr(n=r.call(this,e,t)||this)),n}Mr(e,r);var t=e.prototype;return t.componentDidMount=function(){va(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&uc(ho(e),ho(this.props));return this.state!==t||n},t.componentDidUpdate=function(){ma(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),ba(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=ho(e);var t=e.render,n=t||e.children;if("function"==typeof n){xa(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||sc):n(a)||sc}if(I.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(I.Component);function fc(e,t){var n=ie(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=Oe(c),l=Qr(o,t,r,x,f,i,d,!0),p=l._ccClassKey,y=l._connect;function _(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),I.createElement(t,e.mapped)):I.createElement(t,e)},ccKey:o.ccKey,register:e};return I.createElement(dc,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?_(u):function(e){return _(e)}}var lc=ht.ccUKey_ref_,pc=1;function yc(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function _c(e,t,n,r,o,a,c,i,u,s){var d=n||pe(r),f=o.bindCtxToMethod,l=o.watchedKeys,p=void 0===l?"-":l,y=o.storedKeys,_=void 0===y?[]:y,v=o.connect,m=void 0===v?{}:v,h=o.setup,C=o.lite;pc+=1;var K=Qr(o.module,s,o.renderKeyClasses,_e,Oe(p),_,m,!0),g=K._module,S=K._ccClassKey,E=K._connect,$=e||new yc(a,c,i),w=Object.assign({},o,{module:g,watchedKeys:p,state:d,type:_e,ccClassKey:S,connect:E,ccOption:i.ccOption});$.props=i,zo($,w,C),$.ctx.reactSetState=Ur($),$.ctx.reactForceUpdate=Or($);var b=$.ctx;return b.props=i,b.extra=u,Yo($,h,f),t.current=$.ctx.ccUniqueKey,b.useRef=function(e){var t=I.useRef(null);return b.refs[e]=t},$}function vc(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}var mc="react version is LTE 16.8";function hc(e,t){var n=ie(e),r=n.state,o=void 0===r?{}:r,a=n.props,c=void 0===a?{}:a,i=n.mapProps,u=n.layoutEffect,s=void 0!==u&&u,d=n.extra,f=void 0===d?{}:d,l=I.useState;if(!l)throw Error(mc);function p(e){return _c(e,g,m,o,n,C,K,c,f,t)}var y,_=pc,v=l(_)[0]===_,m=v?pe(o):0,h=l(m),C=h[0],K=h[1],g=I.useRef(null);if(v)y=p();else if(y=lc[g.current]){var S=y.ctx;S.prevProps=S.props,y.props=S.props=c,S.extra=f}else y=p();var E=y.ctx,$=s?I.useLayoutEffect:I.useEffect;if($(function(){y.isFirstRendered||ma(y),vc(E,K)}),$(function(){return!1===y.isFirstRendered?p(y):y.isFirstRendered=!1,vc(E,K),va(y),function(){ba(y)}},[]),xa(y),i){var w=i(E);if(!be(w))throw Error("mapProps ret "+we);E.mapped=w}return E}function Cc(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function Kc(e){return ht.store.getState(e)}var gc=ht.computed._computedValue;var Sc=ht.ccUKey_ref_,Ec=ht.ccClassKey_ccClassContext_;function $c(){var n=[],r=ht.ccUKey_ref_;return re(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function wc(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!ht.isStartup)throw Error("cc is not startup yet");Ut(e),Ot(t,!1);var s=ht.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,pe(o));var f=Ar(ht.reducer._reducer[t]||{},e);a&&Object.assign(f,Ar(a,e));var l=ht.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=ht.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=ht.init._init[t];u&&(y=u);var _={state:d,reducer:f,computed:l,watch:p};y&&(_.init=y),Ir(e,_)}function bc(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.isClassSingle;if(s.store[e])throw Error("run api error: module"+e+" duplicate");s.store[e]=cc(n),"function"==typeof n&&(ht.moduleName_stateFn_[e]=n),s.reducer[e]=o,a&&(s.watch[e]=a),c&&(s.computed[e]=c),i&&(s.init[e]=i),s.moduleSingleClass[e]=!0===u}void 0===t&&(t={}),void 0===e&&(e={}),rc(t)||nc("store"),rc(e)||nc("options");var s={store:{},reducer:{},watch:{},computed:{},init:{},moduleSingleClass:{}};oc(t).forEach(function(e){return r(e,t[e])}),Et.forEach(function(e){var t=e.module,n=e.config;Y("configure pending module["+t+"]"),r(t,n)}),Et.length=0,ac(s.init)&&(s.init=null),tc(s,e)}function xc(e,t){return ic({connect:e},t)}function Uc(e,t){return fc({connect:e},t)}function Oc(e,o){var a=ie(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=hc(a,o);return I.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&I.memo?I.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function Nc(e,t,n,r,o){void 0===o&&(o=!1);try{Rt().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;G(e.message)}}function Dc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&Cc(),"string"!=typeof e&&Cc(),ar(e,t,n,r,o)}function Ic(e,t,n,r){Rt().ctx.set(e,t,n,r)}function Ac(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=Kc(n[0]);return go(e,t,!1,r,!1).state}function Mc(e){return Vc[e].connectedState||{}}function Tc(e){return e?gc[e]:gc}function Rc(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=Rt(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){G(e)}}function Wc(e,t){try{Rt().ctx.off(e,t)}catch(e){if(t.throwError)throw e;G(e.message)}}function kc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=Ec[e];return t&&t.ccKeys.forEach(function(e){var t=Sc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Fc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];$c().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Lc(e,t){return De(e,t)}function jc(e){return{fn:function(){return e},depKeys:[]}}function Pc(e,t){return De(e,t)}var Vc=ht.ccClassKey_ccClassContext_,qc=ic,zc=fc,Hc=Ir,Bc=Kc,Gc=ht.store.getGlobalState,Yc=jt,Xc=ht,Jc=Wa,Qc=$c,Zc=ht.reducer._caller,ei=Ga,ti=dc,ni=u,ri=ht.store.appendState,oi=hc,ai={cloneModule:wc,emit:Rc,off:Wc,connect:xc,connectDumb:Uc,register:qc,registerDumb:zc,registerHookComp:Oc,configure:Hc,dispatch:Yc,run:bc,setGlobalState:Nc,setState:Dc,set:Ic,setValue:Ac,getGlobalState:Gc,getState:Bc,getComputed:Tc,getConnectedState:Mc,ccContext:Xc,createDispatcher:Jc,execute:kc,executeAll:Fc,getRefs:Qc,reducer:Zc,clearContextIfHot:ei,CcFragment:ti,cst:ni,appendState:ri,useConcent:oi,bindCcToMcc:ci,defComputed:Lc,defComputedVal:jc,defWatch:Pc};function ci(e){if(!ui)throw Error("current env is not multi concent ins mode");if(ui[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){ue=e}(e),ae(e,ai,ui)}function ii(){var e=ue?window.mcc[ue]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=Xc.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var ui=window.mcc;ui?setTimeout(function(){if(!se())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");ii()},1e3):(ii(),ae("cc",ai)),e.cloneModule=wc,e.run=bc,e.connect=xc,e.connectDumb=Uc,e.register=qc,e.registerDumb=zc,e.registerHookComp=Oc,e.configure=Hc,e.setGlobalState=Nc,e.setState=Dc,e.set=Ic,e.setValue=Ac,e.getState=Bc,e.getGlobalState=Gc,e.getConnectedState=Mc,e.getComputed=Tc,e.emit=Rc,e.off=Wc,e.dispatch=Yc,e.ccContext=Xc,e.createDispatcher=Jc,e.execute=kc,e.executeAll=Fc,e.getRefs=Qc,e.reducer=Zc,e.clearContextIfHot=ei,e.CcFragment=ti,e.cst=ni,e.appendState=ri,e.useConcent=oi,e.defComputed=Lc,e.defComputedVal=jc,e.defWatch=Pc,e.bindCcToMcc=ci,e.default=ai,Object.defineProperty(e,"__esModule",{value:!0})});
