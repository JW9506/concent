!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,I,r){"use strict";I=I&&I.hasOwnProperty("default")?I.default:I,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,W={$$default:[]},ye="$$global",z="$$default",q="$$cc",H="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",x="$$CcFrag",_e="$$CcHook",h="$$Cc",B="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",ve=Symbol("__for_sync_param_ccsync__"),O=10,U=11,N=13,M="dispatch",me="setState",he="setModuleState",Ce="forceUpdate",w="invoke",K="sync",k="module",Ke="ref",ge="computed",Se="watch",Ee={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},i=((t={})[Ee.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[Ee.CC_MODULE_NOT_FOUND]="module not found!",t[Ee.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)„ÄÅ(moduleName)/(fnName)",t[Ee.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[Ee.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[Ee.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[Ee.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[Ee.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),u=Object.freeze({MODULE_GLOBAL:ye,MODULE_DEFAULT:z,MODULE_CC:q,MODULE_VOID:H,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_FRAGMENT:x,CC_HOOK:_e,CC_PREFIX:h,CC_DISPATCHER:B,CC_DISPATCHER_BOX:c,CCSYNC_KEY:ve,SIG_FN_START:O,SIG_FN_END:U,SIG_FN_QUIT:12,SIG_FN_ERR:N,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,EFFECT_AVAILABLE:1,EFFECT_STOPPED:0,DISPATCH:M,SET_STATE:me,SET_MODULE_STATE:he,FORCE_UPDATE:Ce,INVOKE:w,SYNC:K,CATE_MODULE:k,CATE_REF:Ke,FN_CU:ge,FN_WATCH:Se,ERR:Ee,ERR_MESSAGE:i}),s=((n={})[ye]={},n[z]={},n[q]={},n),d=((o={})[ye]={},o[z]={},o[q]={},o),f={},l={},j={_computedValueOri:d,_computedValue:s,_computedRaw:l,_computedDep:f,getRootComputedValue:function(){return s},getRootComputedDep:function(){return f},getRootComputedRaw:function(){return l}},p={},y={},C={_watchRaw:y,_watchDep:p,getRootWatchDep:function(){return p},getRootWatchRaw:function(){return y}},_={isStrict:!1,isDebug:!1,objectValueCompare:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},v=Symbol("cuk"),m="1",$e="2",T="function",we="is not a plain json object!",g="should be an string array or *!",S=console.error;function E(e){return null!=e&&0<re(e).length}function $(e){return!E(e)}function be(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function b(e,t){var n="";n="string"==typeof e?e:i[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function L(e,t,n,r,o,a,c){var i;return(i={})[v]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function D(e,t){return e+"$"+t}function R(e){return e?" --verbose-info: "+e:""}function F(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function P(e){return"%c"+e}var V=function(e){return"------------ CC "+e+" ------------"};function G(e){S(V("WARNING")),e instanceof Error?(S(e.message),S(e.stack)):S(e)}function Y(e){console.log(V("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function X(e){if(S(V("WARNING")),S(e),_.isStrict)throw e}function J(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function Q(e,t){return J(e,t,[])}function Z(e,t){e.includes(t)||e.push(t)}function ee(e,t,n){Z(Q(e,t),n)}function te(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function ne(t,n,r){if(void 0===n&&(n=[]),Array.isArray(t)){var o=[];n.forEach(function(e){t.includes(e)&&o.push(e)}),t.length=0,o.forEach(function(e){return t.push(e)})}else Object.keys(t).forEach(function(e){n.includes(e)||(r?t[e]=r:delete t[e])})}function re(e){return Object.keys(e)}function oe(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function ae(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function ce(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function ie(o,a,c){var i={},u=!1;if(a){var s=_.objectValueCompare;re(a).forEach(function(e){var t=o[e],n=a[e],r=!0;"object"!=typeof n?r=t!==n:s&&(r=t!==n),r&&(c&&(c.prevStateContainer[e]=t,c.incStateVer(e),o[e]=n),i[e]=n,u=!0)})}return u?i:null}function xe(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function ue(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:z},e)}var se="";function de(){return se}function fe(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function le(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function pe(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function Oe(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!be(t))throw Error("state "+we);return t}function Ue(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function Ne(e){return"-"===e?"*":e}function De(e){return Array.isArray(e)||"-"===e||"*"===e}function Ie(e,t,n){void 0===n&&(n=!0);var r=t||{},o={fn:e},a=De(r)?{depKeys:r}:r;return n&&function(e){if(e&&!De(e))throw Error("depKeys must an array , '*' or '-'")}(a.depKeys),Object.assign(o,a)}var Ae={},Re={};function Me(t,n,r){try{t[n][r]=1}catch(e){var o={};o[r]=1,t[n]=o}}function Te(e,t){return e+"/"+t}function We(e,t){Me(Ae,e,t)}function ke(e,t,n){!function(e,t){try{delete Ae[e][t]}catch(e){}}(Te(e,t),n)}var je={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function Le(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n,sort:r.sort}}var Fe=function(e,t){return e.sort-t.sort};function Pe(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=re(d),_=re(c),v=_;return"computed"===n?{pickedFns:y.map(function(e){return Le(e,d,f[e])}).sort(Fe),setted:_,changed:v}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(Fe),{pickedFns:s,setted:_,changed:v})}var m=function(n,r){var o=[],a=[];return re(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=je[t][n],S=i?J(g,i):g,E=S[K];return E?{pickedFns:E.map(function(e){return Le(e,d,f[e])}),setted:h,changed:C}:(function(s,o,d,f,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<d.length;e.forEach(function(e){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a};r?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c=!0;r&&!d.includes(i)&&(c=!1),c&&(u[e]=!0,s.push({retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}();s.sort(Fe)}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Ve(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function ze(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!be(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=re(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Ve(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Ve(o,t,e)&&(c=!1)}),r&&(a=xe(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function qe(e,n){return new Proxy(e,{get:function(e,t){return n.includes(t)||n.push(t),e[t]},set:function(e,t){return e[t]=e[t],!0}})}function He(e,t,n,r){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===m){var a=o.ccUniqueKey;if(r){var c=o.module;if(!W[c].includes(n))return;var i=Te(c,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[i]=1);if("-"!==o.watchedKeys)return;var u=o.__$$curWaKeys,s=o.__$$compareWaKeys,d=o.__$$nextCompareWaKeys;We(i,a),s[n]=u[n]=1,d[n]||(d[n]=2,o.__$$nextCompareWaKeyCount++)}else{var f=Te(t,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[f]=1);if("-"!==o.connect[t])return;var l=o.__$$curConnWaKeys,p=o.__$$compareConnWaKeys,y=o.__$$nextCompareConnWaKeys,_=o.__$$nextCompareConnWaKeyCount;We(f,a),p[t][n]=l[t][n]=1;var v=y[t];v[n]||(v[n]=2,_[t]++)}}}var Be=j._computedValueOri,Ge=j._computedValue,Ye=j._computedDep;function Xe(e,t,n,r,o){(e.retKey_stateKeys_[r]||[]).forEach(function(e){He(t,n,e,o)})}function Je(r,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=c?r.ctx.refComputedOri:Be[o],u=c?r.ctx.refComputedValue:Ge[o];return i?new Proxy(i,{get:function(e,t){if(i.hasOwnProperty(t))if(c){var n=r.ctx.computedDep;Object.keys(n).forEach(function(e){Xe(n[e],r,e,t,a)})}else Xe(Ye[o],r,o,t,a);return u[t]},set:function(e,t,n){return e[t]=n,!0}}):{}}var Qe,Ze=function(e){return G(e+" call commit or commitCu as it is lazy")},et={},tt={};function nt(e,t,n){return e==k?J(et,t):J(tt,n)}function rt(e,t,n,r,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===Ke){var s=e.computedDep,d=n===ge?s:e.watchDep;u=J(s,r),i=J(d,r)}else{var f=j._computedDep,l=n===ge?f:C._watchDep;u=J(f,r),i=J(l,r)}var p=J(i,"stateKey_retKeys_"),y=J(i,"retKey_stateKeys_"),_=function(e){var n=Q(y,o);e.forEach(function(e){var t=Q(p,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),n.includes(e)||n.push(e)})};c?_(a):a.forEach(function(e){var t=J(u,"retKey_stateKeys_");_(t[e]||[])})}}function ot(e,t,n){return t===Ke?e.computedRetKeyFns:(j._computedDep[n]||{}).retKey_fn_||{}}function at(l,E,$,w,p,e,b,y,x,O,U,N,D){void 0===l&&(l={});for(var I=l.ctx,A=I?I.ccUniqueKey:"",_=0,R=e,M=!0,T=!1,t=function(){var v=1===++_&&O,e=p(R,v),t=e.pickedFns,m=e.setted,h=e.changed;if(!t.length)return"break";var n,r,o=fe(),C=o.commit,a=o.getFnCommittedState,c=fe(),K=c.commit,g=c.getFnCommittedState,S=c.clear;if(t.forEach(function(e){var n=e.retKey,t=e.fn,r=e.isLazy,o=N+" "+U+" retKey["+n+"] can't",a={retKey:n,callInfo:x,isFirstCall:O,commit:C,commitCu:K,setted:m,changed:h,cuVal:D,stateModule:E,refModule:$,oldState:w,committedState:R,refCtx:I},c=v&&"-"===e.depKeys,i=[],u=[];if(c&&(a.cuVal=function(n,r,o,e,t,a){var c,i;return i=k===r?(c=Be[e],Ge[e]):(c=t.refComputedOri,t.refComputedValue),new Proxy(c,{get:function(e,t){return c.hasOwnProperty(t)?a.push(t):G(r+" "+o+" retKey["+n+"] get cuVal invalid retKey["+t+"]"),i[t]},set:function(){return!0}})}(n,N,U,E,I,i)),U===ge)if(r&&(a.commit=function(){return Ze(o)},a.commitCu=a.commit),c){var s=qe(b,u),d=t(s,s,a);D[n]=L(!1,d),rt(I,N,ge,E,n,u),rt(I,N,ge,E,n,i,!1),function(e,t,n,r,o,a){var c=nt(e,o,a),i=ot(n,o,a),u=Q(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):Q(c,e).forEach(function(e){return Z(u,e)})})}(n,i,I,0,N,E)}else if(r)D[n]=L(r,null,!0,t,b,w,a);else{var f=t(b,w,a);D[n]=L(!1,f)}else{var l=b,p=w;c&&(p=l=qe(b,u)),!1===t(l,p,a)&&(M=!1),c&&(rt(I,N,Se,E,n,u),rt(I,N,Se,E,n,i,!1))}c&&N===Ke&&u.forEach(function(e){return I.__$$staticWaKeys[Te(E,e)]=1});var y=g();if(y){var _=ot(I,N,E);re(y).forEach(function(e){var t=_[e];t?t.isStatic?function(e,t,n,r){return Q(nt(t,n,r),e)}(e,N,E,A).includes(e)?G("commitCu:"+o+" change ["+e+"], ["+n+"] referred ["+e+"]"):D[e]=L(!1,y[e]):G("commitCu:"+o+" change ["+e+"], it must have zero dep keys"):G("commitCu:"+o+" commit ["+e+"], it is not defined")}),S()}}),R=a()){var i=ze(R,"ref"===N?I.privStateKeys:W[E],!0),u=i.partialState,s=i.ignoredStateKeys;if(s.length){var d="they are not "+(N===Ke?"private":"module")+", fn is "+N+" "+U;G("these state keys["+s.join(",")+"] are invalid, "+d)}if(u)if(U===Se){var f=function(e,t){return t===Ke?e.computedDep:j._computedDep}(I,N);at(l,E,$,w,function(e,t){return Pe(t,N,ge,f,E,w,e,A)},u,b,y,x,!1,ge,N,D)}else void 0===r&&(r=!1),R=n=u,r&&0===re(n).length?R=null:(Object.assign(b,R),Object.assign(y,R),T=!0)}2<_&&(G("fnCtx.commit may goes endless loop, please check your code"),R=null)};R;){if("break"===t())break}return{shouldCurrentRefUpdate:M,hasDelta:T}}for(var ct=j._computedValue,it=re,ut=ie,st={},dt=function(){return st[B]},ft=function(n,e,t){var r=void 0===t?{}:t,o=r.ref,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=r.noSave,s=void 0!==u&&u,d=pt(n),f=ct[n],l=j.getRootComputedDep(),p=C.getRootWatchDep(),y=a||dt(),_=y.module,v=Object.assign({},d,e),m=Object.assign({},e),h=m;return at(y,n,_,d,function(e,t){return Pe(t,k,"computed",l,n,d,e)},h,v,m,i,!1,"computed",k,f),at(y,n,_,d,function(e,t){return Pe(t,k,"watch",p,n,d,e)},h,v,m,i,!1,"watch",k,f),s||lt(n,m),m},lt=function(t,e,n){void 0===n&&(n=!1);var r=e;n&&(r=ze(e,W[t],!0).partialState);var o=pt(t),a=yt(t);return ut(o,r,{prevStateContainer:a,incStateVer:function(e){return _t(t,e)}})},pt=function(e){return mt[e]},yt=function(e){return ht[e]},_t=function(e,t){Ct[e][t]++},vt=function(){var e;return(e={})[q]={},e[H]={},e[ye]={},e[z]={},e},mt=vt(),ht=vt(),Ct={},Kt={getDispatcher:dt,isHotReloadMode:function(){return!!Kt.isHot||window&&(window.webpackHotUpdate||le())},runtimeVar:_,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:W,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=Q(W,e);it(t).forEach(function(e){n.includes(e)||n.push(e)}),Kt.store.setState(e,t)},_state:mt,_prevState:ht,_stateVer:Ct,getState:function(e){return e?pt(e):mt},getPrevState:function(e){return e?yt(e):ht},getStateVer:function(e){return e?Ct[e]:Ct},setState:function(e,t,n){return ft(e,t,n)},setGlobalState:function(e){return ft(ye,e)},saveSharedState:lt,getGlobalState:function(){return mt[ye]}},reducer:{_reducer:(Qe={},Qe[ye]={},Qe[q]={},Qe),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:j,watch:C,refStore:{_state:{},setState:function(e,t){var n=Kt.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:st,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},waKey_uKeyMap_:Ae,waKey_staticUKeyMap_:Re,refs:st,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.4.0",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"yuna"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[],pluginNameMap:{}},gt=localStorage.length,St=Kt.refStore._state,Et=0;Et<gt;Et++){var $t=localStorage.key(Et);if($t.startsWith("CCSS_"))try{St[$t.substr(5)]=JSON.parse(localStorage.getItem($t))}catch(e){console.error(e)}}var wt=[],bt=function(e){return e.toLowerCase()===q},xt=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},Ot=R,Ut=b;function Nt(e){if(!xt(e))throw Error("module["+e+"] writing is invalid!");if(bt(e))throw Error("'$$cc' is a built-in module name for concent")}function Dt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=Kt.store._state;if(Nt(e),e!==ye)if(t){if(E(o[e]))throw Ut(Ee.CC_MODULE_NAME_DUPLICATE,Ot(r))}else if(!o[e])throw Ut(Ee.CC_MODULE_NOT_FOUND,Ot(r))}function It(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+g);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var At={},Rt=function(e,t,n){if(e.code!==Ee.CC_MODULE_NAME_DUPLICATE||!Kt.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=At[o];if(a){if(r!==a)throw e}else At[o]=r},Mt={};function Tt(e){Mt[e]={}}function Wt(t,e,n){void 0===n&&(n=!0),Tt(t);var r=t===H?{}:e;try{!function(e,t,n){if(Dt(e,n),!be(t))throw Error("module["+e+"]'s state "+we)}(t,r,n)}catch(e){Rt(e,t,"state")}var o=Kt.store,a=o.getState(),c=o.getStateVer();o.getPrevState()[t]=Object.assign({},a[t]=r),c[t]=re(r).reduce(function(e,t){return e[t]=1,e},{});var i=Kt.computed;J(i._computedDep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),J(i._computedValue,t),J(i._computedValueOri,t);var u=Object.keys(r);if(Kt.moduleName_stateKeys_[t]=u,t===ye){var s=Kt.globalStateKeys;u.forEach(function(e){s.includes(e)||s.push(e)})}}function kt(e,t){void 0===t&&(t=!1);var n=Kt.ccUKey_ref_,r=Kt.moduleName_ccClassKeys_,o=Kt.ccClassKey_ccClassContext_,a=[];if(e){if(!Kt.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===z&&(a=a.filter(function(e){return!e.startsWith(x)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[B]}}else a=[B];var s=n[a[0]];if(!s)throw Error("cc found no ref!");return s}var jt=D,Lt=G,Ft=function(){return Promise.resolve()};function Pt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=jt(c,i),_=Kt.refs[y];if(!_)return Lt("no ref found for ccUniqueKey:"+y+"!"),Ft();f=_.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var v=e.split("/");l=v[0],p=v[1]}else p=e;var m;if(!(m=l&&"*"!==l?kt(l):d?kt(d):kt()))return Lt("no ref found"),Ft();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=Kt.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return Lt(e.message),Ft()}}function Vt(e,t,n,r,o){return Pt(e,t,n,r,o)}function zt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!be(e))throw Error(t+" "+we);Dt(a,!1,t+" is invalid");var n=Kt.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=J(o,a),d=Q(i,a);u.setState||(u.setState=function(e){return e}),re(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=Q(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return Vt(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var qt=0,Ht=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function Bt(e){return qt++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=Ht[te()];return t}())+"_"+qt}var Gt=Kt.moduleName_stateKeys_,Yt=Kt.runtimeVar,Xt=1;function Jt(e,t,n,r,o){var a=t.refCtx,c=t.type;if(e!==Ke||a.__$$inBM){if(n){var i,u,s,d=typeof n;if("string"==d)be(r)?((u={})[n]=r,i=u):typeof r===T&&((s={})[n]=Ie(r,o),i=s);else if(be(n))i=n;else if(d===T&&!be(i=n(a)))throw Error("type of "+c+" callback result must be an object");i?function(U,N,D){var e=Yt.computedCompare,t=Yt.watchCompare,I=Yt.watchImmediate,A=N.type===ge?e:t,R=N.module;re(D).forEach(function(c,e){var t=D[c],n=typeof t,r=t;if(n===T&&(r={fn:t}),be(r)){var o=r,a=o.fn,i=o.immediate,u=void 0===i?I:i,s=o.compare,d=void 0===s?A:s,f=o.lazy,l=o.retKeyDep,p=void 0===l||l,y=r.depKeys||"-",_=r.sort||Xt++,v=Bt("mark");if("*"===y||"-"===y){var m="-"===y&&p,h=tn(N,R,c,m),C=h.pureKey,K=h.module;Qt(U,N,v,C),en(U,N,K,C,a,y,u,d,f,_)}else if(0===y.length){var g=tn(N,R,c),S=g.pureKey,E=g.module;Qt(U,N,v,S),en(U,N,E,S,a,y,u,d,f,_)}else{var $=tn(N,R,c),w=$.pureKey,b=$.moduleOfKey,x=b;Qt(U,N,v,w);var O={};y.forEach(function(e){var t=tn(N,R,e),n=t.isStateKey,r=t.pureKey,o=t.module;if(x&&o!==x)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=Q(O,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");Zt(N,o,r),a.push(r)}),re(O).forEach(function(e){en(U,N,e,w,a,O[e],u,d,f,_)})}}else G("retKey["+c+"] item type error")})}(e,t,i):G(e+" "+c+" param type error")}}else G(e+" "+c+" must be been called in setup block")}function Qt(e,t,n,r){if(e===Ke){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function Zt(e,t,n){var r=e.refCtx;r&&(r.__$$staticWaKeys[Te(t,n)]=1)}function en(e,t,n,r,o,a,c,i,u,s){var d=J(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),f=d.retKey_fn_,l=d.stateKey_retKeys_,p=d.retKey_lazy_,y=d.retKey_stateKeys_,_=Array.isArray(a)&&0===a.length,v=s;_?v<0||(v=-1):s<0&&(v=0);var m={fn:o,immediate:c,compare:i,depKeys:a,sort:v,isStatic:_};f[r]?e!==Ke&&(f[r]=m,p[r]=u):(f[r]=m,p[r]=u,d.fnCount++),e===Ke&&(t.retKeyFns[r]=f[r]);var h=t.refCtx;if(h&&("computed"===t.type?h.hasComputedFn=!0:h.hasWatchFn=!0),"-"!==a){var C="*"===a?["*"]:a;"*"===a&&(y[r]=Gt[n]),C.forEach(function(e){ee(l,e,r)})}}function tn(e,t,n,r){void 0===r&&(r=!1);var o,a=t,c=n,i="";if(n.includes("/")){var u=n.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var d=Gt[a];if(a===e.module)o=e.stateKeys;else{if(!(o=d))throw b(Ee.CC_MODULE_NOT_FOUND,R("module["+a+"]"));if(!e.connect[a])throw b(Ee.CC_MODULE_NOT_CONNECTED,R("module["+a+"], retKey["+c+"]"))}var f=o.includes(c);return r&&f&&function(e,t,n,r){var o=J(e.dep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),a=o.retKey_stateKeys_;ee(o.stateKey_retKeys_,n,n),ee(a,n,n),r&&Zt(e,t,n)}(e,a,c,d.includes(c)),{isStateKey:f,pureKey:c,module:a,moduleOfKey:i}}function nn(e,o){var t={};return re(e).forEach(function(r){o[r]=L(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[v]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):G("computed value can not been changed manually")}})}),t}var rn=be;function on(n,e){if(e){var t="module["+n+"] computed";if(!rn(e))throw Error(t+" "+we);Dt(n,!1,t+" is invalid");var r=Kt.computed,o=Kt.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];Jt(k,{type:ge,module:n,stateKeys:re(i),dep:c},e);var u=Kt.getDispatcher(),s=Object.assign({},i);a[n]=nn(e,r._computedValueOri[n]);var d=a[n];at(u,n,u&&u.ctx.module,i,function(e,t){return Pe(t,k,"computed",c,n,i,e)},i,i,s,pe(n),!0,"computed",k,d)}}var an=be,cn=J,un=re;function sn(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!an(e))throw Error(r+" "+we);Dt(n,!1,r+" is invalid");var o=Kt.watch.getRootWatchDep(),a=Kt.watch.getRootWatchRaw(),c=Kt.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,Kt.store.getState)(n);Jt(k,{module:n,stateKeys:un(u),dep:o},e);var s=Kt.getDispatcher(),d=Object.assign({},u),f=cn(c,n);at(s,n,s&&s.ctx.module,u,function(e,t){return Pe(t,k,"watch",o,n,u,e)},u,u,d,pe(n),!0,"watch",k,f)}}var dn=[O,U,12,N,14,15],fn={};function ln(t,n){fn[t].forEach(function(e){e({sig:t,payload:n})})}function pn(e,t){function n(e,t){var n=fn[e];n?n.push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){n(e,t)}):n(e,t)}dn.forEach(function(e){return fn[e]=[]});var yn=function(e){if(!Kt.errorHandler)throw e;Kt.errorHandler(e)},_n=0,vn={},mn={},hn={},Cn={};function Kn(){return++_n}function gn(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function Sn(e,t,n){gn(e,t,n,vn)}function En(e,t,n){return Sn(e,t,n),function(e){var t=function(e){return vn[e]}(e),n=[];return re(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function $n(e){delete vn[e]}var wn={},bn=function(e,t,n){void 0===n&&(n=1e3);var r=wn[t];r&&clearTimeout(r),wn[t]=setTimeout(function(){delete wn[t],e()},n)};function xn(e,n,r,t,o,a){var c=e.ctx;if(!c.hasWatchFn)return{shouldCurrentRefUpdate:!0};var i=Object.assign({},t),u=c.watchDep,s=c.module,d=c.ccUniqueKey,f=c.refComputed;n!==s&&(f=c.connectedComputed[n]);var l=Object.assign({},r,t);return at(e,n,s,r,function(e,t){return Pe(t,Ke,Se,u,n,r,e,d)},t,l,i,o,a,Se,Ke,f)}function On(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=e.ctx,u=Object.assign({},t);if(!i.hasComputedFn)return u;var s=i.computedDep,d=i.module,f=i.ccUniqueKey,l=i.refComputed;n!==d&&(l=i.connectedComputed[n]);var p=Object.assign({},r,t);return at(e,n,d,r,function(e,t){return Pe(t,Ke,"computed",s,n,r,e,f)},t,p,u,o,a,"computed",Ke,l),c&&Object.assign(t,u),u}var Un=re,Nn=Kt.ccUKey_ref_,Dn=Kt.waKey_uKeyMap_,In=Kt.waKey_staticUKeyMap_;function An(o,e,c,i){var t=Un(e),n=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,t,c,i),r=function(e,t){return Mt[e][t]}(o,n);if(r)return{sharedStateKeys:t,result:r};var a={},u=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,Dn[t],In[t])});function d(e,t){e?u.push(t):s.push(t)}function f(e,t){var n=e.ctx,r=n.ccClassKey,o=n.ccUniqueKey;if(c){var a=n.renderKey===c;"*"===i?a&&d(t,o):i.includes(r)?a&&d(t,o):d(t,o)}else d(t,o)}var l=Un(a),p=!1;l.forEach(function(e){var t=Nn[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&f(t,!0),r&&f(t,!1)}else p=!0});var y={belong:u,connect:s};return p||function(e,t,n){Mt[e][t]=n}(o,n,y),{sharedStateKeys:t,result:y}}var Rn=be,Mn=G,Tn=E,Wn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},kn=re,jn=1,Ln=2,Fn=Ce,Pn=me,Vn=15,zn=1,qn=2,Hn=3,Bn=Kt.store,Gn=Bn.setState,Yn=Bn.getPrevState,Xn=Bn.saveSharedState,Jn=Kt.middlewares,Qn=Kt.ccClassKey_ccClassContext_,Zn=Kt.refStore,er=Kt.moduleName_stateKeys_;function tr(e,t,c){var n=void 0===t?{}:t,i=n.module,r=n.skipMiddleware,u=void 0!==r&&r,s=n.payload,o=n.reactCallback,d=n.type,a=n.calledBy,f=void 0===a?Pn:a,l=n.fnName,p=void 0===l?"":l,y=n.renderKey,_=void 0===y?"":y,v=n.delay,m=void 0===v?-1:v;if(void 0!==e)if(Rn(e)){var h=c.ctx,C=h.module,K=h.ccUniqueKey,g=h.ccKey,S=function(e,t){return e===t?jn:Ln}(i,C),E={payload:s,renderKey:_,ccKey:g,module:i,fnName:p},$=function(e,t,n){var r=ze(t,er[e],!0).partialState;if(r)return Gn(e,r,n);return r}(i,e,{ref:c,callInfo:E,noSave:!0});Object.assign(e,$),nr(c,E,_,f,e,S,o,!0,function(n,r,o){var a={calledBy:f,type:d,payload:s,renderKey:_,delay:m,ccKey:g,ccUniqueKey:K,committedState:r,refModule:C,module:i,fnName:p,sharedState:$||{},modState:function(e,t){a.committedState[e]=t,a.sharedState[e]=t}};!function(e,n,r){if(!0!==e){var o=Jn.length;if(0<o){var a=0;!function e(){if(a===o)r();else{var t=Jn[a];a++,"function"==typeof t?t(n,e):(Mn("found one middleware is not a function"),e())}}()}else r()}else r()}(u,a,function(e){var t=Xn(i,a.sharedState,!0);o&&o(),n===zn&&!t||ln(Vn,{calledBy:f,type:d,committedState:r,sharedState:t,module:i,ccUniqueKey:K,renderKey:_}),t&&function(e,t,n,r,o,a,c){var i=function(){!function(c,e,i,t,u,n){if(!i)return;var s=Kt.ccUKey_ref_,r=e.ctx,o=r.ccUniqueKey,a=t===jn,d=An(u,i,n,Qn[r.ccClassKey].renderKeyClasses),f=d.sharedStateKeys,l=d.result,p=l.connect;l.belong.forEach(function(e){var t=s[e];if(t){var n=t.ctx.ccUniqueKey;a&&n===o||nr(t,c,null,"broadcastState",i,jn)}});var y=Yn(u);p.forEach(function(e){var t=s[e];if(t&&!0!==t.__$$isUnmounted){var n=t.ctx,r=On(t,u,y,i,c),o=xn(t,u,y,r,c),a=o.shouldCurrentRefUpdate;a&&(n.__$$settedList.push({module:u,keys:f}),n.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=Wn(t.ctx.ccUniqueKey,n);bn(i,u,c)}else i()}(E,c,t,S,i,_,m)})})}else Mn("your committed state "+we)}function nr(e,t,n,r,o,a,c,i,u){void 0===i&&(i=!1);var s=e.state,d=e.ctx;if(!0===e.__$$isUnmounted||a!==jn||r!==Fn&&!Tn(o))return c&&c(s),u&&u(zn,o);var f=d.module,l=d.storedKeys,p=d.ccUniqueKey,y=Hn;if(n&&(y=qn,d.renderKey!==n))return u&&u(zn,o);if(0<l.length){var _=ze(o,l),v=_.partialState;if(!_.isStateEmpty){if(!0===d.persistStoredKeys){var m=ze(s,l),h=Object.assign({},m.partialState,v);localStorage.setItem("CCSS_"+p,JSON.stringify(h))}Zn.setState(p,v)}}function C(){var e=i?ie(d.state,K):K;e&&(d.__$$settedList.push({module:f,keys:kn(e)}),d.__$$ccSetState(e,c,g))}var K=On(e,f,s,o,t),g=xn(e,f,s,K,t,!1).shouldCurrentRefUpdate;u?u(y,K,C):C()}function rr(e,t,n,r,o){void 0===r&&(r=-1);try{kt(e).ctx.changeState(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}catch(e){X(e)}}var or=G,ar=be,cr=re,ir=Kt.store,ur=ir.getState,sr=ir.setState,dr=Kt.reducer._reducer,fr=Kt.computed._computedValue,lr=b,pr=R;function yr(e,t){void 0===t&&(t=!0);try{return Dt(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;mr(e)}(e,t),!1}}function _r(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function vr(e,t,n,r){var o;return!0===e?(function(e){hn[e]=!0}(o=Kn()),r[o]=1):r[o=t||Kn()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function mr(e,t){e&&(t?t(e):(or(e),Kt.errorHandler&&Kt.errorHandler(e)))}function hr(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:_r(e,t)});r(o,n,c)}).catch(yn)}(Er,e,t,n)}function Cr(e,t,n){return hr(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function Kr(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function gr(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function Sr(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,E=void 0!==r&&r,o=t.chainId_depth_,$=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=E,c="",i=null!=r?r:S;if(ar(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=vr(o,C,K,$),_=typeof e,v={callerRef:h,calledBy:w,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:$,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==_)return e.__fnName&&(e.name=e.__fnName),Cr(e,v,t);if("object"!=_)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(v.module=p),Cr(l,v,t)}}function Er(l,e,p){var y=e.callerRef,_=y.ctx.module,t=e.module,v=void 0===t?_:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,E=e.renderKey,$=e.chainId,w=e.oriChainId,b=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;yr(e,!1)?(e!==t&&n&&(or(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(v,_,e.cb,function(e,r){if(e)return mr(e,h);var o,t=ur(v),n={};if(o=$===w&&1===b[$],m){b[$]=b[$]+1;var a=$r(y,!1,x,v,E,S,$,w,b),c=$r(y,!1,!0,v,E,S,$,w,b),i=$r(y,!0,x,v,E,S,$,w,b),u=Sr(y,{delay:S,chainId:$,oriChainId:w,chainId_depth_:b}),s=Sr(y,{isLazy:!0,delay:S,oriChainId:w,chainId_depth_:b}),d=Sr(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:w,chainId_depth_:b}),f=function(e){return Cn[e]}($)||{};n={module:v,callerModule:_,committedStateMap:f,committedState:f[v]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:ur(),globalState:ur(ye),moduleState:t,moduleComputed:fr[v]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:E,delay:S})},refCtx:y.ctx}}!1===x&&ln(O,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){b[$]=b[$]-1;var t=1===b[$];!function(e,t,n){gn(e,t,n,Cn)}($,v,e);var n=[];!1===x&&(ln(U,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),!function(e){return!0===hn[e]}($)?n=[{module:v,state:e}]:t?function(e){return!0===mn[e]}($)||(n=En($,v,e),$n($)):Sn($,v,e)),n.forEach(function(e){e.state&&tr(e.state,{renderKey:E,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&($n($),function(e){delete Cn[e]}($)),h&&h(null,e)}).catch(function(e){ln(N,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),mr(e,h)})})}function $r(b,x,O,U,N,D,I,A,R){return void 0===N&&(N=""),void 0===D&&(D=-1),void 0===R&&(R={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=O,c="",i=r||D;if(ar(t)){c=N;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||N;function l(){return Sr(b,{chainId:v,oriChainId:m,isLazy:o,chainId_depth_:R})(e,n,c,i)}var p,y,_=vr(o,I,A,R),v=_._chainId,m=_._oriChainId,h=typeof e,C=U;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(lr(Ee.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==R[m]&&(C=e.__stateModule)}var E=g.split("").filter(function(e){return"/"===e}).length;if(0===E)p=g;else{if(1!==E)return Promise.reject(lr(Ee.CC_DISPATCH_STRING_INVALID,pr(g)));var $=g.split("/"),w=$[0];w&&(C=w),p=$[1]}}return"*"===C?Pt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:b.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,_=dr[r];if(!_)return s(Error("no reducerMap found for module:["+r+"]"));var v=_[c];if(!v)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(_)));Er(v,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:M,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:b,module:C,type:p,payload:n,cb:y,__innerCb:_r(e,t),delay:i,renderKey:c,isSilent:a,chainId:v,oriChainId:m,chainId_depth_:R})}).catch(yn)}}function wr(a){return function(t){try{rr(a,t)}catch(e){var n=ur(a);if(!n)return or("invalid module "+a);var r=ze(t,cr(n),!1,!0),o=r.ignoredStateKeys;r.isStateEmpty||sr(a,r.partialState),0<o.length&&or("invalid keys:"+o.join(",")+", their value is undefined or they are not declared in module"+a),Y("no ccInstance found for module["+a+"] currently, cc will just store it, lately ccInstance will pick this state to render")}}}var br=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===_e?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isMounted?o.state=r:Object.assign(o.state,e),n.__boundSetState(r,t))}},xr=function(r){return function(e){var t=r.ctx;if(t.type===_e){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},Or=be,Ur=Oe;function Nr(t,e){if(Kt.isStartup){if(!Or(e))throw Error("param config "+we);if(t===ye)throw Error("configuring global module is not allowed");var n=e.state,r=e.reducer,o=e.computed,a=e.watch,c=e.init,i=e.isClassSingle,u=Ur(n);if("function"==typeof n&&(Kt.moduleName_stateFn_[t]=n),r&&!Or(r))throw Error("config.reducer "+we);if(Wt(t,u,!0),zt(t,r),o&&on(t,o),a&&sn(t,a),Kt.moduleSingleClass[t]=!0===i,c){if("function"!=typeof c)throw Error("init value must be a function!");Promise.resolve().then(c).then(function(e){wr(t)(e)})}Kt.moduleName_isConfigured_[t]=!0,ln(14,t)}else wt.push({module:t,config:e})}function Dr(r,o){var a={};return re(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function Ir(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Rr=re,Mr=be,Tr=Kt.store._state;var Wr=$,kr=b,jr=Kt.featureStr_classKey_,Lr=Kt.userClassKey_featureStr_,Fr=Kt.ccClassKey_ccClassContext_,Pr=0;var Vr=Kt.moduleName_stateKeys_,zr=Kt.moduleName_ccClassKeys_,qr=Kt.moduleSingleClass,Hr=Kt.ccClassKey_ccClassContext_,Br=Kt.computed._computedValue,Gr=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},Yr=R;function Xr(e,t,n,r,o,a,c,i,u){void 0===e&&(e=z),void 0===a&&(a=[]),!0===i&&function(){if(!0!==Kt.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;Dt(e,!1,"module["+e+"] is not configured in store"),It(Vr[e],a);var d=c,f=Array.isArray(c);!f&&"string"!=typeof c||(d={},(f?c:c.split(",")).forEach(function(e){return d[e]="-"}));e===ye||d[ye]||(d[ye]="-");var l,p=function(e,t,n){if(t===B)return[];if(!n)return[];if("*"===n)return Vr[e];var r=Gr(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+g+" "+Yr("ccClassKey:"+t));return n}(e,t,o),y=function(o,e,t,a){if(!Mr(o))throw Error("CcFragment or CcClass's prop connect type error, it "+we);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=Rr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=Tr[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),Rr(n).forEach(function(e){return s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!n.hasOwnProperty(e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,p),_=y.connectedModuleKeyMapping,v=y.connectedModuleNames,m=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===z&&Wr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=jr[i];return u||(jr[i]=u=""+o+ ++Pr)}if(c.startsWith(h))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==B.toLowerCase())throw Error(B+" is cc built-in ccClassKey name, if you want to customize your dispatcher, \n      you can set autoCreateDispatcher=false in StartupOption, and use createDispatcher then.");if(Fr[c]){if(Lr[c]!==a)throw kr(Ee.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else Lr[c]=a;return c}(s,e,d,p,r,y.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");l=n}else l=[m];return function(e,t,n,r,o,a,c){var i=Hr[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),Hr[e]=i);var u={},s={};if(a){var d=Kt.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=Br[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(m,l,e,o,p,_,v),function(e,t){var n=Q(zr,e);if(!0===qr[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,m),{_module:e,_connect:d,_watchedKeys:p,_ccClassKey:m}}var Jr=Kt.event_handlers_,Qr=Kt.handlerKey_handler_,Zr=Kt.ccUKey_handlerKeys_,eo=Kt.ccUKey_ref_,to=function(e,t,n){return e+"$"+t+"$"+n},no=Q,ro=G;function oo(e,t,n,r,o){void 0===o&&(o=null);var a=Jr[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function ao(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete Qr[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=Jr[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete Zr[n])}),Jr[e]=r.filter(function(e){return null!==e}))})}function co(e,t,n,r,o,a){var c=no(Jr,r);if("function"!=typeof a)return ro("event "+r+"'s handler is not a function!");var i=to(n,r,o),u=no(Zr,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),Qr[i]=d}function io(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r,o,c,i,u=null,s=null;"string"==typeof e?r=e:(r=e.name,u=e.identity,o=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),oo(r,o,c,i,u).forEach(function(e){var t=e.handlerKey,n=eo[e.ccUniqueKey];if(n&&t){if(n.__$$isUnmounted)return;var r=Qr[t];if(r){if(s&&!s(n))return;var o=r.fn;n.__$$isMounted?o.apply(void 0,a):n.ctx.__$$onEvents.push({fn:o,args:a})}}})}function uo(e,t){ao(oo(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function so(e){var t=Zr[e];if(t){var n=[];t.forEach(function(e){return n.push(Qr[e])}),ao(n)}}function fo(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var lo=Object.freeze({bindEventHandlerToCcContext:co,findEventHandlersToPerform:io,findEventHandlersToOff:uo,offEventHandlersByCcUniqueKey:so,getEventItem:fo});function po(n,e,r,o){return new Proxy(e,{get:function(e,t){return He(n,r,t,o),e[t]},set:function(e,t,n){return e[t]=n,!0}})}var yo=G,_o=D;function vo(e){return e?e.props||e:{}}var mo=Kt.store.getState;var ho=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[ve],p=e.type,y=!1;if(void 0!==l){var _,v,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");_=h[1],v=c,m=h[0]}else v=r+"/"+(_=c),m=r;var C=mo(m);u="bool"===p?!Ue(m!==r?C:o,_):function(e){var t=oe(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,_,{module:m,moduleState:C,fullKeyPath:v,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):G("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var E=oe(t);if(!E)return null;var $=E.currentTarget;u=$.value;var w=$.dataset;if(a="int"===p||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{d=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var Co=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(G(t+" can not convert to int but you set ccint as true!ÔºÅ"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],_=i.slice(1),v=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?G("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(v,_,_.length-1,0,a,o),{module:c,state:(p={},p[y]=v,p)}},Ko=Kt.store.getState;function go(e,t,n){var r=t.ctx,o=r.module,a=ho(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var _=f.split("/")[0];Dt(_,!1);var v=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&tr(s,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t));var h=_!==o?Ko(_):t.state;tr(Co(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=Co(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var So=Kt.reducer,Eo=So._module_fnNames_,$o=So._caller,wo=Kt.refStore,bo=Kt.ccClassKey_ccClassContext_,xo=Kt.moduleName_stateKeys_,Oo=Kt.store.getState,Uo=Kt.moduleName_ccClassKeys_,No=re,Do=b,Io=R,Ao=Q,Ro=J,Mo=G,To=$,Wo=0;var ko=function(){},jo=function(e){return"type of defineEffect "+e+" param must be"},Lo=function(e){return"-"===e.watchedKeys?No(e.__$$renderStatus===m?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Fo=function(t,e){function n(e){return No(t.__$$renderStatus===m?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function r(e){if(c)return n(e);var t=o[e];return"*"===t?xo[e]:"-"===t?n(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return r(e);var i={};return a.forEach(function(e){return i[e]=r(e)}),i};function Po(t,n,e){("*"===e?xo[n]:e).forEach(function(e){return function(e,t,n){Me(Ae,Te(e,t),n)}(n,e,t)})}function Vo(c,e,t){var n;void 0===t&&(t=5);var r=e.isSingle,o=e.ccClassKey,a=e.ccKey,i=void 0===a?"":a,u=e.module,s=e.type,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,_=e.watchedKeys,v=e.connect,m=void 0===v?{}:v,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=u,E=c.ctx,$=To(E),w=xo[S],b=c.setState,x=c.forceUpdate;!$&&E.ccUniqueKey?(b=E.__boundSetState,x=E.__boundForceUpdate):s!==_e&&(b=c.setState.bind(c),x=c.forceUpdate.bind(c));var O={};O.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,O.tag=g.tag||C;var U=function(e,t,n,r){var o;if(e)n&&yo("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=_o(t,n);else{var a=Bt(r);o=_o(t,a)}return o}(r,o,i,O.tag);if(O.renderKey=g.renderKey||U,O.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(It(t,o),o):[]}(d,w,g.storedKeys,l),i&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+i+"]");if(0<O.storedKeys.length&&!i)throw Do(Ee.CC_STORED_KEYS_NEED_CCKEY,Io("ccClassKey["+o+"]"));var N=Oo(u),D=wo._state[U]||{},I=Object.assign({},d,D,N),A=No(c.state=I),R=bo[o].connectedState,M=No(m),T={},W={};M.forEach(function(e){return W[e]=Je(c,e,!1)});var k,j=Je(c,u),L=Je(c,ye),F=po(c,Oo(ye),ye,!1),P=xe(No(d),w);k=S===ye?F:po(c,N,u,!0);var V=Ao(Uo,u);V.includes(o)||V.push(o);function z(e,t){tr(e,t,c)}function q(e,t,n,r,o,a){z(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){q(e,t,he,n,r,o)}function B(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):q(S,e,me,t,n,r)}function G(e,t,n){q(S,c.state,Ce,e,t,n)}var Y=[],X=[],J={effectItems:Y,eid_effectReturnCb_:{},effectPropsItems:X,eid_effectPropsReturnCb_:{}},Q={},Z=vo(c.props),ee=((n={type:s,isSingle:r,module:u,ccClassKey:o,ccKey:i,ccUniqueKey:U,renderCount:1,initTime:Date.now(),watchedKeys:_,privStateKeys:P,connect:m,connectedModules:M,__$$onEvents:[],__$$hasModuleState:0<w.length,__$$renderStatus:$e,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:O.persistStoredKeys,storedKeys:O.storedKeys,renderKey:O.renderKey,tag:O.tag,prevProps:Z,props:Z,mapped:{},prevState:I,state:I,moduleState:k,mstate:N,globalState:F,connectedState:T,extra:{},staticExtra:{},refComputed:{},refComputedValue:{},refComputedOri:{},moduleComputed:j,globalComputed:L,connectedComputed:W,moduleReducer:{},connectedReducer:{},reducer:{}}).mapped={},n.stateKeys=A,n.computedDep={},n.computedRetKeyFns={},n.watchDep={},n.watchRetKeyFns={},n.execute=null,n.effectMeta=J,n.retKey_fnUid_={},n.reactSetState=ko,n.__boundSetState=b,n.reactForceUpdate=ko,n.__boundForceUpdate=x,n.setState=B,n.setModuleState=H,n.forceUpdate=G,n.changeState=z,n.refs=Q,n.useRef=function(t){return function(e){return Q[t]={current:e}}},n.__$$ccSetState=Kr(c),n.__$$ccForceUpdate=gr(c),n.__$$settedList=[],n.__$$prevMoStateVer={},n);c.setState=B,c.forceUpdate=G,ee.initState=function(e){return c.__$$isMounted?Mo("ctx.initState can only been called before first render period!"):be(d)?(c.state=Object.assign({},d,e,D,k),void(ee.prevState=ee.state=c.state)):Mo("state "+we)};var te=$r(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=$r(c,!0,!1,S),ee.silentDispatch=$r(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=Sr(c),ee.lazyInvoke=Sr(c,{isLazy:!0}),ee.silentInvoke=Sr(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){q(ye,e,me,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return go.bind(null,((a={})[ve]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);go({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),go(((o={})[ve]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),go(((r={})[ve]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];io.apply(lo,[fo(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?U:a,i=fo(e);uo(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=fo(e),r=n.identity;co(S,o,U,n.name,void 0===r?null:r,t)}),4<t){ee.execute=function(e){return ee.execute=e},ee.watch=function(r){return function(e,t,n){Jt(Ke,{type:Se,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.watchRetKeyFns,module:r.module,connect:r.connect,dep:r.watchDep},e,t,n)}}(ee),ee.computed=function(r){return function(e,t,n){Jt(Ke,{type:ge,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.computedRetKeyFns,module:r.module,connect:r.connect,dep:r.computedDep},e,t,n)}}(ee);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(jo("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(jo("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){var t;if(e.includes("/")){var n=(t=e).split("/");if(!ee.connect[n[0]])throw Do(Ee.CC_MODULE_NOT_CONNECTED,Io("depKey["+e+"]"))}else t=S+"/"+e;c.push(t),ee.__$$staticWaKeys[t]=1}));var i={fn:e,isProp:s,depKeys:o,modDepKeys:c,eId:Symbol("__autoGen_"+ ++Wo+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(Y,!1),ee.effectProps=re(X,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$curConnWaKeys,ie=ee.__$$compareConnWaKeys,ue=ee.__$$compareConnWaKeyCount,se=ee.__$$nextCompareConnWaKeys,de=ee.__$$nextCompareConnWaKeyCount,fe=M.slice();fe.includes(u)?Mo("["+U+"]'s module["+u+"] is in belongTo and connect both, it will cause redundant render."):fe.push(u);var le=!1;if(fe.forEach(function(o){var e;e=o===u?oe:Ro(ae,o);var t=m[o];if(t){var n=R[o];"-"===t?(le=!0,ce[o]={},ie[o]={},ue[o]=0,se[o]={},de[o]=0,n=o===ye?ee.globalState:po(c,n,o)):Po(U,o,t),T[o]=n}(Eo[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=$o,ee.mr=ee.moduleReducer,ee.cr=ee.connectedReducer,ee.r=ee.reducer,"-"===_?le=!0:Po(U,u,_),ee.__$$autoWatch=le,ee.getWatchedKeys=function(){return Lo(c.ctx||ee)},ee.getConnectWatchedKeys=function(e){return Fo(c.ctx||ee,e)},$)c.ctx=ee;else{var pe=c.ctx;Object.assign(c.ctx,ee,{__$$curWaKeys:pe.__$$curWaKeys,__$$compareWaKeys:pe.__$$compareWaKeys,__$$compareWaKeyCount:pe.__$$compareWaKeyCount,__$$nextCompareWaKeys:pe.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:pe.__$$nextCompareWaKeyCount,__$$curConnWaKeys:pe.__$$curConnWaKeys,__$$compareConnWaKeys:pe.__$$compareConnWaKeys,__$$compareConnWaKeyCount:pe.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:pe.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:pe.__$$nextCompareConnWaKeyCount})}}var zo=Kt.store.getState;var qo=re,Ho=Kt.runtimeVar;function Bo(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,r.__$$inBM=!(n.__$$isMounted=!1),e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!be(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===Ho.bindCtxToMethod&&!1!==t)&&qo(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.refComputedValue=nn(r.computedRetKeyFns,r.refComputedOri),r.refComputed=Je(n,null,!0,!0),function(o){function e(r){r(o,c,i,i,u,!0,!0),a.forEach(function(e){var t=zo(e),n=pe(e);r(o,e,t,t,n,!0,!0)})}var t=o.ctx,n=t.hasComputedFn,r=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.state,u=pe(c);n&&e(On),r&&e(xn)}(n),r.__$$inBM=!1}var Go=Kt.moduleName_stateKeys_,Yo=Kt.store,Xo=Yo.getPrevState,Jo=Yo.getState,Qo=Yo.getStateVer,Zo=function(e,t){return G("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function ea(e,t){function n(a,c,i){return function(e){var t=e.fn,n=e.eId;if(!i||!1!==e.immediate){var r=a[n];r&&r(u);var o=t(u,c);a[n]=o}}}var u=e.ctx,r=u.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,i=r.eid_effectPropsReturnCb_,m=u.__$$prevMoStateVer,h=u.__$$settedList,C=u.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(i,!0,!0));else{var K=u.prevState,g=e.state,S=[];o.forEach(function(e){var t=e.modDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(h),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=s.split("/"),p=l[0],y=l[1];if(p!==C){var _=Xo(p),v=Qo(p);if(m[y]===v[y])continue;if(m[y]=v[y],!_){Zo(s,"module["+p+"]");continue}if(!Go[p].includes(y)){Zo(s,"unmoduledKey["+y+"]");continue}d=Jo(p),f=_}else d=g,f=K;if(f[y]!==d[y]){i=!0;break}}else if(c[s]){i=!0;break}}i&&S.push({fn:r,eId:o})}else S.push({fn:r,eId:o})}),S.forEach(n(a,!1,!1));var s=u.prevProps,d=u.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(i,!1,!1)),h.length=0}}var ta=G,na=b,ra=R,oa=P,aa=F,ca=Kt.runtimeVar,ia=Kt.ccClassKey_ccClassContext_,ua=Kt.ccUKey_ref_,sa={};function da(e,t,n,r){function o(){ua[e]=t,n.push(e)}!function(e){void 0===sa[e]?sa[e]=1:sa[e]+=1}(e),r?setTimeout(o,r):o()}function fa(e,t,n,r,o){var a=ia[n],c=a.ccKeys;ca.isDebug&&console.log(oa("register ccKey "+o+" to CC_CONTEXT"),aa());var i=Kt.isHotReloadMode();if(c.includes(o)){var u=function(){throw na(Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE,ra("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===sa[e]?0:sa[e]}(o);if(t&&0<s)throw na(Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE,ra("ccClass:"+n));1<s&&u(),ta("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+ra("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),da(o,e,c,600)}else u()}else da(o,e,c);return a}function la(t,e,n,r){var o=!1,a=re(t);a.forEach(function(e){2===t[e]&&(o=!0,ke(n,e,r))}),e<a.length&&(o=!0),o&&Tt(n)}function pa(e){var t=e.ctx;if(t.__$$renderStatus=$e,t.__$$autoWatch){var n=t.connectedModules,r=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;la(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),n.forEach(function(e){"-"===r[e]&&la(a[e],c[e],e,o)})}}function ya(e){pa(e),e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.ccUniqueKey,r=t.__$$onEvents,o=t.__$$staticWaKeys;fa(e,t.isSingle,t.ccClassKey,t.ccKey,n);var a=re(o);(e.ctx.__$$staticWaKeyList=a).forEach(function(e){return function(e,t){Me(Re,e,t)}(e,n)}),0<r.length&&(r.forEach(function(e){return e.fn.apply(void 0,e.args)}),r.length=0),ea(e,!0)}function _a(e){pa(e),ea(e),e.ctx.prevState=e.state}var va=Kt.ccUKey_ref_,ma=Kt.ccUKey_handlerKeys_,ha=Kt.runtimeVar,Ca=Kt.ccClassKey_ccClassContext_,Ka=Kt.handlerKey_handler_;function ga(e,t){ha.isDebug&&console.log(P(t+" unset ref"),F("purple")),delete va[t];var n=Ca[e].ccKeys,r=n.indexOf(t);r<0||n.splice(r,1),function(e){void 0===sa[e]?sa[e]=0:sa[e]-=1}(t);var o=ma[t];o&&o.forEach(function(e){delete Ka[e]})}var Sa=re;function Ea(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),Sa(n).forEach(e)}function $a(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey,o=t.module,a=t.__$$staticWaKeyList;if(e.__$$isMounted){var c=t.effectMeta,i=c.eid_effectPropsReturnCb_;Ea(c.eid_effectReturnCb_,t),Ea(i,t),so(n)}t.getWatchedKeys().forEach(function(e){return ke(o,e,n)});var u=t.getConnectWatchedKeys();re(u).map(function(t){u[t].forEach(function(e){return ke(t,e,n)})}),a.forEach(function(e){return function(e,t){try{delete Re[e][t]}catch(e){}}(e,n)}),ga(r,n)}function wa(e){var t=e.ctx;if(t.__$$renderStatus=m,t.__$$autoWatch){t.__$$hasModuleState&&(Object.assign(e.state,t.mstate),e.state=po(e,e.state,t.module,!0),t.state=e.state,t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0);var n=t.connect;t.connectedModules.forEach(function(e){"-"===n[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var ba=function(e){return"CC("+e+")"},xa=Ne,Oa=ce,Ua=Oe,Na=Kt.runtimeVar,Da=F,Ia=P,Aa=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function Ra(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?z:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,_=void 0===y?{}:y,v=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,E=n.__checkStartUp,$=void 0===E||E,w=n.compareProps,b=void 0===w||w,x=n.__calledBy;void 0===t&&(t="");try{var O=Xr(o,t,S,A,xa(s),d,_,$,x),U=O._module,N=O._ccClassKey,D=O._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:I.Component,i=e.$$setup,t=function(c){function e(e,t){var n;try{n=c.call(this,e,t)||this;var r=Ua(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(Ar(n));var a=Object.assign({},e,{isSingle:g,module:U,tag:v,state:o,type:A,watchedKeys:s,ccClassKey:N,connect:D,storedKeys:d,persistStoredKeys:p});if(Vo(Ar(n),a,m),n.ctx.reactSetState=br(Ar(n)),n.ctx.reactForceUpdate=xr(Ar(n)),l&&(n.$$setup||i))throw Aa("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(Ar(n))),Bo(Ar(n),l||n.$$setup||i,!1))}catch(e){yn(e)}return n}Ir(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!b&&Oa(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=Kr(e,this),t.__$$ccForceUpdate=gr(e),e.state||(e.state={}),Object.assign(e.state,this.state),wa(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw Aa("ccUniqueKey "+t.ccUniqueKey);Bo(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),ya(this)},t.componentDidUpdate=function(){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this),_a(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),$a(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,Na.isDebug&&console.log(Ia("@@@ render "+ba(N)),Da()),!1===C?(wa(this),c.prototype.render.call(this)):I.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=N===B?"CcDispatcher":ba(N),t}}catch(e){yn(e)}}function Ma(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return Ir(t,e),t.prototype.render=function(){return this.props.children||I.createElement("span",{style:{display:"none"}})},t}(I.Component);if(Kt.refs[B]){if(!Kt.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");Y("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return Ra({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},B)(n)}var Ta=be,Wa=re;function ka(e,t){if(!Ta(e))throw Error(t+" "+we)}function ja(e){if(!Ta(e))throw Error("StartupOption.moduleSingleClass "+we);!function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}(Kt.moduleSingleClass,e)}function La(e){if(0<e.length){var o=Kt.plugins;o.length=0,dn.forEach(function(e){return fn[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(pn),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1}),Kt.pluginNameMap=a}}var Fa=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(I.createElement(e),t)},Pa=!1;function Va(e,r){void 0===e&&(e=!1),et={},tt={},ne(Kt.event_handlers_),ne(Kt.ccUKey_handlerKeys_);var o=Kt.ccClassKey_ccClassContext_,t=Kt.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),ne(t.ccKeys,n)}),ne(Kt.handlerKey_handler_),ne(t,[B].concat(r)),e){var n=Kt.computed,a=Kt.watch,c=n._computedValue,i=a._watchDep;re(Kt.store._state).forEach(function(e){e!==q&&(c[e]&&(Kt.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},on(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},sn(e,a._watchRaw[e])))})}}function za(){var n=Kt.ccUKey_ref_,r=[];return re(n).forEach(function(e){var t=n[e];t&&t.ctx.type===x&&!0!==t.props.__$$regDumb&&!0===t.__$$isMounted&&0==t.__$$isUnmounted&&r.push(e)}),r}function qa(){ne(Kt.globalStateKeys);var e=re(Kt.moduleName_isConfigured_).concat([z,q,ye,a]);ne(Kt.reducer._reducer,e),ne(Kt.store._state,e,{}),ne(Kt.computed._computedDep,e),ne(Kt.computed._computedValue,e),ne(Kt.watch._watchDep,e),ne(Kt.middlewares),ne(Kt.waKey_uKeyMap_),je={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=za();return Va(!1,t),t}function Ha(e){void 0===e&&(e=!1),Kt.info.latestStartupTime=Date.now();var t=[];return Kt.isStartup?Kt.isHotReloadMode()?e?(console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),Pa=!0,t=qa()):(Pa?Pa=!1:(function(){if(!Kt.refs[B]){var e=Ma();Fa(e)}}(),t=za(),Va(Kt.reComputed,t)),t):(console.warn("clear failed because of not running under hot reload mode!"),t):(Pa=!0,t)}var Ba=ue,Ga=Oe;function Ya(e){var t=e.props,n=Ba(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,_=n.isSingle,v=n.storedKeys,m=void 0===v?[]:v,h=Ga(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,E=l,$=C,w=y;if(!0!==t.__$$regDumb){var b=Xr(r,C,o,x,Ne(l),m,y,!0);E=l,$=b._ccClassKey,w=b._connect}Vo(e,{isSingle:_,ccKey:K,connect:w,state:h,module:r,storedKeys:m,watchedKeys:E,tag:a,ccClassKey:$,ccOption:S,type:x},c),e.ctx.reactSetState=br(e),e.ctx.reactForceUpdate=xr(e),e.__$$compareProps=u,Bo(e,s,d)}var Xa=Y,Ja=ae,Qa="";function Za(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.computed,d=void 0===s?{}:s,f=n.watch,l=void 0===f?{}:f,p=n.moduleSingleClass,y=void 0===p?{}:p,_=void 0===t?{}:t,v=_.plugins,m=void 0===v?[]:v,h=_.middlewares,C=void 0===h?[]:h,K=_.isStrict,g=void 0!==K&&K,S=_.isDebug,E=void 0!==S&&S,$=_.errorHandler,w=void 0===$?null:$,b=_.isHot,x=_.bindCtxToMethod,O=void 0!==x&&x,U=_.objectValueCompare,N=void 0!==U&&U,D=_.computedCompare,I=void 0===D||D,A=_.watchCompare,R=void 0===A||A,M=_.watchImmediate,T=void 0!==M&&M,W=_.reComputed,k=void 0===W||W;try{throw Error()}catch(e){var j=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=Kt.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return Ha(Kt.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(Qa)if(Qa!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);le()?(u=c(),Qa=a):(X(d),s=!1)}else u=c();else Qa=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),L=j.ccFragKeys;if(!j.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),Xa("cc version "+Kt.info.version),void 0!==b&&(Kt.isHot=b),Kt.reComputed=k,Kt.errorHandler=w;var F=Kt.runtimeVar;if(F.isStrict=g,F.isDebug=E,F.objectValueCompare=N,F.computedCompare=I,F.watchCompare=R,F.watchImmediate=T,F.bindCtxToMethod=O,!Kt.refs[B]){var P=Ma();Fa(P)}ja(y),function(e){ka(e,"state"),delete e[H],delete e[q],void 0===e[ye]&&(e[ye]={}),void 0===e[z]&&(e[z]={});for(var t=Wa(e),n=t.length,r=0;r<n;r++){var o=t[r];Wt(o,e[o])}}(o),function(t){ka(t,"reducer"),void 0===t[z]&&(t[z]={}),void 0===t[ye]&&(t[ye]={}),Wa(t).forEach(function(e){return zt(e,t[e])})}(c),function(t){ka(t,"computed"),Wa(t).forEach(function(e){return on(e,t[e])})}(d),function(t){ka(t,"watch"),Object.keys(t).forEach(function(e){return sn(e,t[e])})}(l),function(n){if(n){if(!Ta(n))throw Error("init "+we);Wa(n).forEach(function(t){Dt(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){wr(t)(e)})}),Kt.init._init=n}}(u),function(e){if(0<e.length){var t=Kt.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(C);var V=function(e){Ja("CC_CONTEXT",Kt,e),Ja("ccc",Kt,e),Ja("cccc",Kt.computed._computedValue,e),Ja("sss",Kt.store._state,e)};window.mcc?setTimeout(function(){V(window.mcc[de()])},1200):V(),Kt.isStartup=!0,La(m),L.forEach(function(e){var t=Kt.ccUKey_ref_[e];$a(t),Ya(t),ya(t)})}catch(e){if(!w)throw e;w(e)}}}function ec(e){throw Error("[[run]]: param error, "+e+" "+we)}var tc=be,nc=re,rc=$,oc=Oe;function ac(e,t){var n=ue(e);return delete n.__checkStartUp,delete n.__calledBy,Ra(n,t)}var cc=ce,ic=I.createElement("span",{style:{display:"none"}}),uc=function(r){function e(e,t){var n;return Ya(Ar(n=r.call(this,e,t)||this)),n}Ir(e,r);var t=e.prototype;return t.componentDidMount=function(){ya(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&cc(vo(e),vo(this.props));return this.state!==t||n},t.componentDidUpdate=function(){_a(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),$a(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=vo(e);var t=e.render,n=t||e.children;if("function"==typeof n){wa(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||ic):n(a)||ic}if(I.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(I.Component);function sc(e,t){var n=ue(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=Ne(c),l=Xr(o,t,r,x,f,i,d,!0),p=l._ccClassKey,y=l._connect;function _(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),I.createElement(t,e.mapped)):I.createElement(t,e)},ccKey:o.ccKey,register:e};return I.createElement(uc,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?_(u):function(e){return _(e)}}var dc=Kt.ccUKey_ref_,fc=1;function lc(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function pc(e,t,n,r,o,a,c,i,u,s){var d=n||Oe(r),f=o.bindCtxToMethod,l=o.watchedKeys,p=void 0===l?"-":l,y=o.storedKeys,_=void 0===y?[]:y,v=o.connect,m=void 0===v?{}:v,h=o.setup,C=o.lite;fc+=1;var K=Xr(o.module,s,o.renderKeyClasses,_e,Ne(p),_,m,!0),g=K._module,S=K._ccClassKey,E=K._connect,$=e||new lc(a,c,i),w=Object.assign({},o,{module:g,watchedKeys:p,state:d,type:_e,ccClassKey:S,connect:E,ccOption:i.ccOption});$.props=i,Vo($,w,C),$.ctx.reactSetState=br($),$.ctx.reactForceUpdate=xr($);var b=$.ctx;return b.props=i,b.extra=u,Bo($,h,f),t.current=$.ctx.ccUniqueKey,b.useRef=function(e){var t=I.useRef(null);return b.refs[e]=t},$}function yc(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}var _c="react version is LTE 16.8";function vc(e,t){var n=ue(e),r=n.state,o=void 0===r?{}:r,a=n.props,c=void 0===a?{}:a,i=n.mapProps,u=n.layoutEffect,s=void 0!==u&&u,d=n.extra,f=void 0===d?{}:d,l=I.useState;if(!l)throw Error(_c);function p(e){return pc(e,g,m,o,n,C,K,c,f,t)}var y,_=fc,v=l(_)[0]===_,m=v?Oe(o):0,h=l(m),C=h[0],K=h[1],g=I.useRef(null);if(v)y=p();else if(y=dc[g.current]){var S=y.ctx;S.prevProps=S.props,y.props=S.props=c,S.extra=f}else y=p();var E=y.ctx,$=s?I.useLayoutEffect:I.useEffect;if($(function(){y.isFirstRendered||_a(y),yc(E,K)}),$(function(){return!1===y.isFirstRendered?p(y):y.isFirstRendered=!1,yc(E,K),ya(y),function(){$a(y)}},[]),wa(y),i){var w=i(E);if(!be(w))throw Error("mapProps ret "+we);E.mapped=w}return E}function mc(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function hc(e){return Kt.store.getState(e)}var Cc=Kt.store.getGlobalState,Kc=Kt.computed._computedValue;var gc=Kt.ccUKey_ref_,Sc=Kt.ccClassKey_ccClassContext_;function Ec(){var n=[],r=Kt.ccUKey_ref_;return re(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function $c(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!Kt.isStartup)throw Error("cc is not startup yet");Nt(e),Dt(t,!1);var s=Kt.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,Oe(o));var f=Dr(Kt.reducer._reducer[t]||{},e);a&&Object.assign(f,Dr(a,e));var l=Kt.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=Kt.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=Kt.init._init[t];u&&(y=u);var _={state:d,reducer:f,computed:l,watch:p};y&&(_.init=y),Nr(e,_)}function wc(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.isClassSingle;if(s.store[e])throw Error("run api error: module"+e+" duplicate");s.store[e]=oc(n),"function"==typeof n&&(Kt.moduleName_stateFn_[e]=n),s.reducer[e]=o,a&&(s.watch[e]=a),c&&(s.computed[e]=c),i&&(s.init[e]=i),s.moduleSingleClass[e]=!0===u}void 0===t&&(t={}),void 0===e&&(e={}),tc(t)||ec("store"),tc(e)||ec("options");var s={store:{},reducer:{},watch:{},computed:{},init:{},moduleSingleClass:{}};nc(t).forEach(function(e){return r(e,t[e])}),wt.forEach(function(e){var t=e.module,n=e.config;Y("configure pending module["+t+"]"),r(t,n)}),wt.length=0,rc(s.init)&&(s.init=null),Za(s,e)}function bc(e,t){return ac({connect:e},t)}function xc(e,t){return sc({connect:e},t)}function Oc(e,o){var a=ue(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=vc(a,o);return I.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&I.memo?I.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function Uc(e,t,n,r,o){void 0===o&&(o=!1);try{kt().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;G(e.message)}}function Nc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&mc(),"string"!=typeof e&&mc(),rr(e,t,n,r,o)}function Dc(e,t,n,r){kt().ctx.set(e,t,n,r)}function Ic(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=hc(n[0]);return Co(e,t,!1,r,!1).state}function Ac(e){return Vc[e].connectedState||{}}function Rc(e){return e?Kc[e]:Kc}function Mc(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=kt(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){G(e)}}function Tc(e,t){try{kt().ctx.off(e,t)}catch(e){if(t.throwError)throw e;G(e.message)}}function Wc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=Sc[e];return t&&t.ccKeys.forEach(function(e){var t=gc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function kc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];Ec().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function jc(e,t){return Ie(e,t)}function Lc(e,t){var n=Ie(e,t);return n.lazy=!0,n}function Fc(e){return{fn:function(){return e},depKeys:[]}}function Pc(e,t){return Ie(e,t)}var Vc=Kt.ccClassKey_ccClassContext_,zc=Kt.store.appendState,qc=Kt.reducer._caller,Hc=I.memo(function(e){var t=I.useRef(e).current,n=t.module,r=t.connect,o=t.render,a=t.children;if(n&&r)throw Error("module, connect can not been supplied both");if(!n&&!r)throw Error("module or connect should been supplied");var c=o||a,i=n?{module:n}:{connect:r};i.lite=1;var u,s,d=vc(i);return s=n?(u=d.moduleState,d.moduleComputed):(u=d.connectedState,d.connectedComputed),c([u,s])}),Bc=ac,Gc=sc,Yc=Nr,Xc=hc,Jc=Cc,Qc=Vt,Zc=Kt,ei=Ma,ti=Ec,ni=qc,ri=Ha,oi=uc,ai=Hc,ci=u,ii=zc,ui=vc,si={cloneModule:$c,emit:Mc,off:Tc,connect:bc,connectDumb:xc,register:Bc,registerDumb:Gc,registerHookComp:Oc,configure:Yc,dispatch:Qc,run:wc,setGlobalState:Uc,setState:Nc,set:Dc,setValue:Ic,getGlobalState:Jc,getState:Xc,getComputed:Rc,getConnectedState:Ac,ccContext:Zc,createDispatcher:ei,execute:Wc,executeAll:kc,getRefs:ti,reducer:ni,clearContextIfHot:ri,CcFragment:oi,Ob:ai,cst:ci,appendState:ii,useConcent:ui,bindCcToMcc:di,defComputed:jc,defLazyComputed:Lc,defComputedVal:Fc,defWatch:Pc};function di(e){if(!li)throw Error("current env is not multi concent ins mode");if(li[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){se=e}(e),ae(e,si,li)}function fi(){var e=se?window.mcc[se]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=Zc.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var li=window.mcc;li?setTimeout(function(){if(!de())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");fi()},1e3):(fi(),ae("cc",si)),e.cloneModule=$c,e.run=wc,e.connect=bc,e.connectDumb=xc,e.register=Bc,e.registerDumb=Gc,e.registerHookComp=Oc,e.configure=Yc,e.setGlobalState=Uc,e.setState=Nc,e.set=Dc,e.setValue=Ic,e.getState=Xc,e.getGlobalState=Jc,e.getConnectedState=Ac,e.getComputed=Rc,e.emit=Mc,e.off=Tc,e.dispatch=Qc,e.ccContext=Zc,e.createDispatcher=ei,e.execute=Wc,e.executeAll=kc,e.getRefs=ti,e.reducer=ni,e.clearContextIfHot=ri,e.CcFragment=oi,e.Ob=ai,e.cst=ci,e.appendState=ii,e.useConcent=ui,e.defComputed=jc,e.defLazyComputed=Lc,e.defComputedVal=Fc,e.defWatch=Pc,e.bindCcToMcc=di,e.default=si,Object.defineProperty(e,"__esModule",{value:!0})});
